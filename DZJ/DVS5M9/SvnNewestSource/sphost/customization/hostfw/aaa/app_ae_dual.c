/**************************************************************************
 *
 *        Copyright (c) 2006-2008 by Sunplus mMedia Inc., Ltd.
 *
 *  This software is copyrighted by and is the property of Sunplus
 *  mMedia Inc., Ltd. All rights are reserved by Sunplus mMedia
 *  Inc., Ltd. This software may only be used in accordance with the
 *  corresponding license agreement. Any unauthorized use, duplication,
 *  distribution, or disclosure of this software is expressly forbidden.
 *
 *  This Copyright notice MUST not be removed or modified without prior
 *  written consent of Sunplus mMedia Inc., Ltd.
 *
 *  Sunplus mMedia Inc., Ltd. reserves the right to modify this
 *  software without notice.
 *
 *  Sunplus mMedia Inc., Ltd.
 *  19-1, Innovation First Road, Science-Based Industrial Park,
 *  Hsin-Chu, Taiwan, R.O.C.
 *
 **************************************************************************/
#define HOST_DBG 0
#define AE_DBG_MSG 0
#include "common.h"
#include <stdio.h>
#include <string.h>
#include "sp5k_cdsp_api.h"
#include "sp5k_gfx_api.h"
#include "sp5k_ae_api.h"
#include "sp5k_sensor_api.h"
#include "sp5k_capture_api.h"
#include "sp5k_cal_api.h"
#include "sp5k_msg_def.h"
#include "sp5k_modesw_api.h"

#include "app_com_api.h"
#include "app_com_debug.h"
#include "app_dbg_api.h"
#include "app_exif.h"
#include "app_osd_api.h"
#include "app_lens_api.h"
#include "app_view_param_def.h"
#include "app_view_param.h"
#include "app_user_setting.h"
#include "app_calib_api.h"
#include "app_flash_api.h"

#include "app_aaa.h"
#include "app_ae_private.h"
#include "app_face_detect_ex.h"
#include "app_3aalg.h"
#include "app_still_iq.h"
#include "app_diq.h"

/**************************************************************************
 *                           C O N S T A N T S                            *
 **************************************************************************/

#define FAST_AE_DO_NUM		2
#define FREQUENCE_MODE 	    1

/**************************************************************************
 *                              M A C R O S                               *
 **************************************************************************/
#define DEFAULT_EXP		pv_tvidx_to_expidx(6*TV_UNIT)
#define DEFAULT_AGC		pv_svidx_to_agcidx(5*SV_UNIT)
#define CAP_STABILIZER_MAX_GAIN	(aeIso[UI_ISO_800])
#define FLASH_AE_ISO_MAX		(UI_ISO_50-1)
#define AE_CONVERGE_COARSE		(3)

#define AE_CONVERGE_COARSE_VIEW		(3)
#define AE_CONVERGE_COARSE_VIDEO	(4)

#define AE_CONVERGE_ACCEL_LIMIT     (8)
#define AE_CONVERGE_ACCEL_PARA      (1)

#define AE_CONVERGE_SPEED		    (12)	/*1= fastest, bigger = slowest */
#define AE_CONVERGE_FINE		    (2)

#define AE_FLICK_EN                 (1)
#define AE_FLICK_STEP0              (0)
#define AE_FLICK_STEP1              (1)
#define AE_TOO_BRIGHT               (2)
#define AE_TOO_DARK                 (4)
#define AE_FLICK_COUNT              (2)     /*bright and dark always switch-can't converge*/
#define AE_FLICK_STEP_RANGE         (1)
#define AE_FLICK_CONVERGE_COUNT     (10)

#define AE_FREEZE_COUNT             (5)     /*no freeze=0*/

#if SP5K_SENSOR_AR0130 
#define AE_PV_30Fps_MIN_EXPAGC_ENTRY	49
#define AE_PV_60Fps_MIN_EXPAGC_ENTRY	49
#define AE_PV_120Fps_MIN_EXPAGC_ENTRY   49
#define AE_PV_MAX_EXPAGC_ENTRY	        198
#else
#define AE_PV_30Fps_MIN_EXPAGC_ENTRY	28
#define AE_PV_60Fps_MIN_EXPAGC_ENTRY	41
#define AE_PV_120Fps_MIN_EXPAGC_ENTRY   46
#define AE_PV_MAX_EXPAGC_ENTRY	        198
#endif

#if SP5K_ALGORITHM_AE //lester 20120402
#define DEFAULT_EXPAGC_ENTRY		(90)/*54 */
#else
#define DEFAULT_EXPAGC_ENTRY		(30)/*54 */
#endif

//lester 20120612 s
//#define FLASH_ROLLING

#ifdef FLASH_ROLLING
#define STD_EXP_1_10				52
#define FAKE 						2
#endif
//lester 20120612 e

#define ABS(a) (((a) < 0) ? -(a) : (a))
#define MAX(a,b) ((a)>(b))?(a):(b)
#define MIN(a,b) ((a)<(b))?(a):(b)
/**************************************************************************
 *                          D A T A    T Y P E S                          *
 **************************************************************************/
BOOL aeFreqDbg=FALSE;
BOOL aeRunDump=FALSE;
static int	 dbgTooDarkCntA=0, dbgTooBrightCntA=0;
static int	 dbgTooDarkCntB=0, dbgTooBrightCntB=0;

static SINT32 aebiascmp[AE_BIAS_MAX] = { 2000,1700,1300,1000,700,300,0,-300,-700,-1000,-1300,-1700,-2000 };
static SINT32 ae50HzCapFlickerShut[AE_CAP_FLICKER_SHUT_NUM] = {CAP_EXP_50HZ_1_100,CAP_EXP_50HZ_1_50,CAP_EXP_50HZ_1_30,CAP_EXP_50HZ_1_20,CAP_EXP_50HZ_1_16,CAP_EXP_50HZ_1_8,CAP_EXP_50HZ_1_4,CAP_EXP_50HZ_1_2,CAP_EXP_50HZ_1_01};
static SINT32 ae60HzCapFlickerShut[AE_CAP_FLICKER_SHUT_NUM] = {CAP_EXP_60HZ_1_120,CAP_EXP_60HZ_1_60,CAP_EXP_60HZ_1_30,CAP_EXP_60HZ_1_20,CAP_EXP_60HZ_1_16,CAP_EXP_60HZ_1_8,CAP_EXP_60HZ_1_4,CAP_EXP_60HZ_1_2,CAP_EXP_60HZ_1_01};
static SINT32 aeIris[2] = { IRIS_STEP_1, IRIS_STEP_2};
static SINT32 aeIso[ISO_NUM] = {STD_ISO_50, STD_ISO_100, STD_ISO_200, STD_ISO_400, STD_ISO_800, STD_ISO_1600 };
static SINT32 aeshut[EXP_NUM] = { EXP_16_01,EXP_8_01, EXP_4_01, EXP_2_01, EXP_1_01, EXP_1_02, EXP_1_04, EXP_1_08, EXP_1_16,EXP_1_20,EXP_1_24,EXP_1_32,\
									EXP_1_64, EXP_1_128, EXP_1_256, EXP_1_512, EXP_1_1024, EXP_1_2048, EXP_1_4096, EXP_1_8192,EXP_1_16384 };
static SINT32 aesafeshut[AE_ZOOM_LEVEL_MAX] =  { EXP_1_32, EXP_1_32, EXP_1_32, EXP_1_32, EXP_1_64, EXP_1_64, EXP_1_64};

static SINT32 aeShortestShutter = EXP_BOUNDARY_H;
static SINT32 aeLongestShutter = EXP_BOUNDARY_L;

static SINT32 capShortestShutter = EXP_CAP_BOUNDARY_H;
static SINT32 capLongestShutter = EXP_CAP_BOUNDARY_L;

static SINT32 aeMaxGain = AGC_BOUNDARY_H;
static SINT32 aeMinGain = AGC_BOUNDARY_L;

static SINT32 capMaxGain = AGC_CAP_BOUNDARY_H;
static SINT32 capMinGain = AGC_CAP_BOUNDARY_L;

static SINT32 capSatAgc = DEFAULT_SAT_AGCIDX;
static SINT32 pvSatAgc = DEFAULT_PV_SAT_AGCIDX;

static SINT32 SenB_capexp;
static SINT32 SenB_capagc;
static SINT16 SenB_capav;
    
#ifdef DO_ISO_XSHIFT
static SINT32 capSatGainSVIDX = DEFAULT_SAT_AGCIDX
								-CAP_ISO_XSHIFT
								+ (STD_ISO_100-DEFAULT_CAP_ISO100); /* aeCapIsoOfs */
#else
static SINT32 capSatGainSVIDX = DEFAULT_SAT_AGCIDX
								+(STD_ISO_100-DEFAULT_CAP_ISO100); /* aeCapIsoOfs */
#endif

/**************************************************************************
 *                         G L O B A L    D A T A                         *
 **************************************************************************/
appAeCb_t aeCbA;
appAeCb_t aeCbB;

appAePara_t aePara;

static BOOL fAeEnable=1;
static BOOL fAeLock=0;
static UINT8 aeCalcCnt=0;
SINT16 aeViewIsoOfs=0;
SINT16 aeCapIsoOfs=0;

sp5kEvUnit_t evUnit;
sp5kExpLimit_t expLimitPv,expLimitCap;
sp5kAgcLimit_t agcLimitPv,agcLimitCap;
static SINT32 aeConvErr = AE_CONVERGE_FINE;
static UINT8  bef_dual_mode = SENSOR_BOTH;
static SINT32 expidx, nextexp, step, rec_bstepA, rec_dstepA;
static SINT32 agcidx, nextagc, apeidx, nextape;
static SINT32 expidxB, nextexpB, stepB, rec_bstepB, rec_dstepB;
static SINT32 agcidxB, nextagcB, apeidxB, nextapeB;
static UINT32 Convcount = 0;
static UINT32 ConvcountB = 0;
static BOOL SensorBneedSend = FALSE;
static SINT32 nextEntry, nextEntryB;
static SINT32 tmpEntry,freeze_cnt;
static UINT32 aeFrameRateSel = 30;//4 //fan.xiao modified 2011-12-07 , 11:35:36
static UINT32 aeFlickerSel;

//4 //fan.xiao modified 2011-08-08 , 11:58:53
static SINT32 *pAeCapFlikrShut;

typedef struct 
{
	UINT16 idx;
	UINT16 expidx;
	UINT16 agcidx;
} aeExpAgcIdx_t;

static aeExpAgcIdx_t ae30Fps60HzExpAgcSet[253]=
{
	{0,  	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+25},/*85,156*/
	{1,  	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+24},/*85,155*/
	{2,  	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+23},/*85,154*/
	{3,  	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+22},/*85,153*/
	{4,  	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+21},/*85,152*/
	{5,  	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+20},/*85,151*/
	{6,  	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+19},/*85,150*/
	{7,  	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+18},/*85,149*/
	{8,  	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+17},/*85,156*/
	{9,  	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+16},/*85,155*/
	{10, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+15},/*85,154*/
	{11, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+14},/*85,153*/
	{12, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+13},/*85,152*/
	{13, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+12},/*85,151*/
	{14, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+11},/*85,150*/
	{15, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+10},/*85,149*/
	{16, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+9},/*85,148*/
	{17, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+8},/*85,147*/
	{18, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+7},/*85,146*/
	{19, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+6},/*85,145*/
	{20, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+5},/*85,144*/
	{21, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+4},/*85,143*/
	{22, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+3},/*85,142*/
	{23, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+2},/*85,141*/
	{24, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))+1},/*85,140*/
	{25, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,156*/
	{26, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+94 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,155*/
	{27, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+93 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,154*/
	{28, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+92 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,153*/
	{29, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+91 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,152*/
	{30, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+90 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,151*/
	{31, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+89 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,150*/
	{32, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+88 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,149*/
	{33, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+87 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,148*/
	{34, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+86 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,147*/
	{35, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+85 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,146*/
	{36, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+84 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,145*/
	{37, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+83 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,144*/
	{38, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+82 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,143*/
	{39, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+81 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,142*/
	{40, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+80 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,141*/
	{41, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+79 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,140*/
	{42, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+78 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,139*/
	{43, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+77 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,138*/
	{44, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+76 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,137*/
	{45, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+75 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,136*/
	{46, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+74 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,135*/
	{47, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+73 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,134*/
	{48, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+72 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,133*/
	{49, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+71 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,132*/
	{50, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+70 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,131*/
	{51, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+69 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,130*/
	{52, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+68 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,129*/
	{53, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+67 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,128*/
	{54, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+66 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,127*/
	{55, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+65 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,126*/
	{56, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+64 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,125*/
	{57, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+63 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,124*/
	{58, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+62 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,123*/
	{59, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+61 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,122*/
	{60, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+60 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,121*/
	{61, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+59 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,120*/
	{62, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+58 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,119*/
	{63, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+57 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,118*/
	{64, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+56 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,117*/
	{65, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+55 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,116*/
	{66, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+54 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,115*/
	{67, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+53 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,114*/
	{68, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+52 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,113*/
	{69, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+51 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,112*/
	{70, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+50 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,111*/
	{71, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+49 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,110*/
	{72, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+48 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,109*/
	{73, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+47 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,108*/
	{74, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+46 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,107*/
	{75, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+45 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,106*/
	{76, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+44 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,105*/
	{77, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+43 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,104*/
	{78, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+42 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,103*/
	{79, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+41 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,102*/
	{80, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+40 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,101*/
	{81, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+39 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,100*/
	{82, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+38 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,99*/
	{83, 	PRV_EXP_60HZ_1_30,	(PRV_AGC_MIN_IDX+37 - (113 - PRV_EXP_60HZ_1_30-1))},/*85,98*/
	{84, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+36 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,108*/
	{85, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+35 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,107*/
	{86, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+34 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,106*/
	{87, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+33 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,105*/
	{88, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+32 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,104*/
	{89, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+31 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,103*/
	{90, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+30 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,102*/
	{91, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+29 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,101*/
	{92, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+28 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,100*/
	{93, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+27 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,99*/
	{94, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+26 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,98*/
	{95, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+25 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,97*/
	{96, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+24 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,96*/
	{97, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+23 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,95*/
	{98, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+22 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,94*/
	{99, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+21 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,93*/
	{100,	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+20 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,92*/
	{101,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+19 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,106*/
	{102,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+18 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,105*/
	{103,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+17 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,104*/
	{104,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+16 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,103*/
	{105,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+15 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,102*/
	{106,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+14 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,101*/
	{107,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+13 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,100*/
	{108,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+12 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,99*/
	{109,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+11 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,98*/
	{110,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+10 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,97*/
	{111,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+9 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,96*/
	{112,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+8 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,95*/
	{113,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+7 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,94*/
	{114,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+6 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,93*/
	{115,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+5 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,92*/
	{116,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+4 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,91*/
	{117,	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+3 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,90*/
	{118,	113,					(PRV_AGC_MIN_IDX+3)},/*113,91*/
	{119,	113,					(PRV_AGC_MIN_IDX+2)},/*113,90*/
	{120,	113,					(PRV_AGC_MIN_IDX+1)},/*113,89*/
	{121,	113,	PRV_AGC_MIN_IDX},/*113,88*/
	{122,	114,	PRV_AGC_MIN_IDX},
	{123,	115,	PRV_AGC_MIN_IDX},
	{124,	116,	PRV_AGC_MIN_IDX},
	{125,	117,	PRV_AGC_MIN_IDX},
	{126,	118,	PRV_AGC_MIN_IDX},
	{127,	119,	PRV_AGC_MIN_IDX},
	{128,	120,	PRV_AGC_MIN_IDX},
	{129,	121,	PRV_AGC_MIN_IDX},
	{130,	122,	PRV_AGC_MIN_IDX},
	{131,	123,	PRV_AGC_MIN_IDX},
	{132,	124,	PRV_AGC_MIN_IDX},
	{133,	125,	PRV_AGC_MIN_IDX},
	{134,	126,	PRV_AGC_MIN_IDX},
	{135,	127,	PRV_AGC_MIN_IDX},
	{136,	128,	PRV_AGC_MIN_IDX},
	{137,	129,	PRV_AGC_MIN_IDX},
	{138,	130,	PRV_AGC_MIN_IDX},
	{139,	131,	PRV_AGC_MIN_IDX},
	{140,	132,	PRV_AGC_MIN_IDX},
	{141,	133,	PRV_AGC_MIN_IDX},
	{142,	134,	PRV_AGC_MIN_IDX},
	{143,	135,	PRV_AGC_MIN_IDX},
	{144,	136,	PRV_AGC_MIN_IDX},
	{145,	137,	PRV_AGC_MIN_IDX},
	{146,	138,	PRV_AGC_MIN_IDX},
	{147,	139,	PRV_AGC_MIN_IDX},
	{148,	140,	PRV_AGC_MIN_IDX},
	{149,	141,	PRV_AGC_MIN_IDX},
	{150,	142,	PRV_AGC_MIN_IDX},
	{151,	143,	PRV_AGC_MIN_IDX},
	{152,	144,	PRV_AGC_MIN_IDX},
	{153,	145,	PRV_AGC_MIN_IDX},
	{154,	146,	PRV_AGC_MIN_IDX},
	{155,	147,	PRV_AGC_MIN_IDX},
	{156,	148,	PRV_AGC_MIN_IDX},
	{157,	149,	PRV_AGC_MIN_IDX},
	{158,	150,	PRV_AGC_MIN_IDX},
	{159,	151,	PRV_AGC_MIN_IDX},
	{160,	152,	PRV_AGC_MIN_IDX},
	{161,	153,	PRV_AGC_MIN_IDX},
	{162,	154,	PRV_AGC_MIN_IDX},
	{163,	155,	PRV_AGC_MIN_IDX},
	{164,	156,	PRV_AGC_MIN_IDX},
	{165,	157,	PRV_AGC_MIN_IDX},
	{166,	158,	PRV_AGC_MIN_IDX},
	{167,	159,	PRV_AGC_MIN_IDX},
	{168,	160,	PRV_AGC_MIN_IDX},
	{169,	161,	PRV_AGC_MIN_IDX},
	{170,	162,	PRV_AGC_MIN_IDX},
	{171,	163,	PRV_AGC_MIN_IDX},
	{172,	164,	PRV_AGC_MIN_IDX},
	{173,	165,	PRV_AGC_MIN_IDX},
	{174,	166,	PRV_AGC_MIN_IDX},
	{175,	167,	PRV_AGC_MIN_IDX},
	{176,	168,	PRV_AGC_MIN_IDX},
	{177,	169,	PRV_AGC_MIN_IDX},
	{178,	170,	PRV_AGC_MIN_IDX},
	{179,	171,	PRV_AGC_MIN_IDX},
	{180,	172,	PRV_AGC_MIN_IDX},
	{181,	173,	PRV_AGC_MIN_IDX},
	{182,	174,	PRV_AGC_MIN_IDX},
	{183,	175,	PRV_AGC_MIN_IDX},
	{184,	176,	PRV_AGC_MIN_IDX},
	{185,	177,	PRV_AGC_MIN_IDX},
	{186,	178,	PRV_AGC_MIN_IDX},
	{187,	179,	PRV_AGC_MIN_IDX},
	{188,	180,	PRV_AGC_MIN_IDX},
	{189,	181,	PRV_AGC_MIN_IDX},
	{190,	182,	PRV_AGC_MIN_IDX},
	{191,	183,	PRV_AGC_MIN_IDX},
	{192,	184,	PRV_AGC_MIN_IDX},
	{193,	185,	PRV_AGC_MIN_IDX},
	{194,	186,	PRV_AGC_MIN_IDX},
	{195,	187,	PRV_AGC_MIN_IDX},
	{196,	188,	PRV_AGC_MIN_IDX},
	{197,	189,	PRV_AGC_MIN_IDX},
	{198,	190,	PRV_AGC_MIN_IDX},
	{199,	191,	PRV_AGC_MIN_IDX},
	{200,	192,	PRV_AGC_MIN_IDX},
	{201,	193,	PRV_AGC_MIN_IDX},
	{202,	194,	PRV_AGC_MIN_IDX},
	{203,	195,	PRV_AGC_MIN_IDX},
	{204,	196,	PRV_AGC_MIN_IDX},
	{205,	197,	PRV_AGC_MIN_IDX},
	{206,	198,	PRV_AGC_MIN_IDX},
	{207,	199,	PRV_AGC_MIN_IDX},
	{208,	200,	PRV_AGC_MIN_IDX},
	{209,	201,	PRV_AGC_MIN_IDX},
	{210,	202,	PRV_AGC_MIN_IDX},
	{211,	203,	PRV_AGC_MIN_IDX},
	{212,	204,	PRV_AGC_MIN_IDX},
	{213,	205,	PRV_AGC_MIN_IDX},
	{214,	206,	PRV_AGC_MIN_IDX},
	{215,	207,	PRV_AGC_MIN_IDX},
	{216,	208,	PRV_AGC_MIN_IDX},
	{217,	209,	PRV_AGC_MIN_IDX},
	{218,	210,	PRV_AGC_MIN_IDX},
	{219,	211,	PRV_AGC_MIN_IDX},
	{220,	212,	PRV_AGC_MIN_IDX},
	{221,	213,	PRV_AGC_MIN_IDX},
	{222,	214,	PRV_AGC_MIN_IDX},
	{223,	215,	PRV_AGC_MIN_IDX},
	{224,	216,	PRV_AGC_MIN_IDX},
	{225,	217,	PRV_AGC_MIN_IDX},
	{226,	218,	PRV_AGC_MIN_IDX},
	{227,	219,	PRV_AGC_MIN_IDX},
	{228,	220,	PRV_AGC_MIN_IDX},
	{229,	221,	PRV_AGC_MIN_IDX},
	{230,	222,	PRV_AGC_MIN_IDX},
	{231,	223,	PRV_AGC_MIN_IDX},
	{232,	224,	PRV_AGC_MIN_IDX},
	{233,	225,	PRV_AGC_MIN_IDX},
	{234,	226,	PRV_AGC_MIN_IDX},
	{235,	227,	PRV_AGC_MIN_IDX},
	{236,	228,	PRV_AGC_MIN_IDX},
	{237,	229,	PRV_AGC_MIN_IDX},
	{238,	230,	PRV_AGC_MIN_IDX},
	{239,	231,	PRV_AGC_MIN_IDX},
	{240,	232,	PRV_AGC_MIN_IDX},
	{242,	233,	PRV_AGC_MIN_IDX},
	{242,	234,	PRV_AGC_MIN_IDX},
	{243,	235,	PRV_AGC_MIN_IDX},
	{244,	236,	PRV_AGC_MIN_IDX},
	{245,	237,	PRV_AGC_MIN_IDX},
	{246,	238,	PRV_AGC_MIN_IDX},
	{247,	239,	PRV_AGC_MIN_IDX},
	{248,	240,	PRV_AGC_MIN_IDX},
	{249,	241,	PRV_AGC_MIN_IDX},
	{250,	242,	PRV_AGC_MIN_IDX},
	{251,	243,	PRV_AGC_MIN_IDX},
	{252,	244,	PRV_AGC_MIN_IDX},	
};

static aeExpAgcIdx_t ae30Fps50HzExpAgcSet[253]=
{

	{0,  	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+25},/*85,156*/
	{1,  	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+24},/*85,155*/
	{2,  	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+23},/*85,154*/
	{3,  	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+22},/*85,153*/
	{4,  	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+21},/*85,152*/
	{5,  	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+20},/*85,151*/
	{6,  	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+19},/*85,150*/
	{7,  	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+18},/*85,149*/
	{8,  	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+17},/*85,156*/
	{9,  	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+16},/*85,155*/
	{10, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+15},/*85,154*/
	{11, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+14},/*85,153*/
	{12, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+13},/*85,152*/
	{13, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+12},/*85,151*/
	{14, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+11},/*85,150*/
	{15, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+10},/*85,149*/
	{16, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+9},/*85,148*/
	{17, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+8},/*85,147*/
	{18, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+7},/*85,146*/
	{19, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+6},/*85,145*/
	{20, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+5},/*85,144*/
	{21, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+4},/*85,143*/
	{22, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+3},/*85,142*/
	{23, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+2},/*85,141*/
	{24, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))+1},/*85,140*/
	{25, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,156*/
	{26, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+94 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,155*/
	{27, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+93 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,154*/
	{28, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+92 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,153*/
	{29, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+91 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,152*/
	{30, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+90 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,151*/
	{31, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+89 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,150*/
	{32, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+88 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,149*/
	{33, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+87 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,148*/
	{34, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+86 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,147*/
	{35, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+85 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,146*/
	{36, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+84 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,145*/
	{37, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+83 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,144*/
	{38, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+82 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,143*/
	{39, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+81 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,142*/
	{40, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+80 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,141*/
	{41, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+79 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,140*/
	{42, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+78 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,139*/
	{43, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+77 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,138*/
	{44, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+76 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,137*/
	{45, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+75 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,136*/
	{46, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+74 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,135*/
	{47, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+73 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,134*/
	{48, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+72 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,133*/
	{49, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+71 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,132*/
	{50, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+70 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,131*/
	{51, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+69 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,130*/
	{52, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+68 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,129*/
	{53, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+67 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,128*/
	{54, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+66 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,127*/
	{55, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+65 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,126*/
	{56, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+64 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,125*/
	{57, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+63 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,124*/
	{58, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+62 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,123*/
	{59, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+61 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,122*/
	{60, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+60 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,121*/
	{61, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+59 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,120*/
	{62, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+58 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,119*/
	{63, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+57 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,118*/
	{64, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+56 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,117*/
	{65, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+55 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,116*/
	{66, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+54 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,115*/
	{67, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+53 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,114*/
	{68, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+52 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,113*/
	{69, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+51 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,112*/
	{70, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+50 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,111*/
	{71, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+49 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,110*/
	{72, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+48 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,109*/
	{73, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+47 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,108*/
	{74, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+46 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,107*/
	{75, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+45 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,106*/
	{76, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+44 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,105*/
	{77, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+43 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,104*/
	{78, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+42 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,103*/
	{79, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+41 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,102*/
	{80, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+40 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,101*/
	{81, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+39 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,100*/
	{82, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+38 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,99*/
	{83, 	PRV_EXP_50HZ_1_30,	(PRV_AGC_MIN_IDX+37 - (113 - PRV_EXP_50HZ_1_30-1))},/*85,98*/
	{84, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+36 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,108*/
	{85, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+35 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,107*/
	{86, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+34 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,106*/
	{87, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+33 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,105*/
	{88, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+32 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,104*/
	{89, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+31 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,103*/
	{90, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+30 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,102*/
	{91, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+29 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,101*/
	{92, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+28 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,100*/
	{93, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+27 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,99*/
	{94, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+26 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,98*/
	{95, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+25 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,97*/
	{96, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+24 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,96*/
	{97, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+23 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,95*/
	{98, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+22 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,94*/
	{99, 	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+21 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,93*/
	{100,	PRV_EXP_50HZ_1_50,	(PRV_AGC_MIN_IDX+20 - (113 - PRV_EXP_50HZ_1_50-1))},/*96,92*/
	{101,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+19 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,106*/
	{102,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+18 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,105*/
	{103,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+17 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,104*/
	{104,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+16 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,103*/
	{105,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+15 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,102*/
	{106,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+14 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,101*/
	{107,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+13 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,100*/
	{108,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+12 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,99*/
	{109,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+11 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,98*/
	{110,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+10 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,97*/
	{111,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+9 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,96*/
	{112,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+8 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,95*/
	{113,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+7 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,94*/
	{114,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+6 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,93*/
	{115,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+5 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,92*/
	{116,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+4 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,91*/
	{117,	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+3 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,90*/
	{118,	113,					(PRV_AGC_MIN_IDX+3)},/*113,91*/
	{119,	113,					(PRV_AGC_MIN_IDX+2)},/*113,90*/
	{120,	113,					(PRV_AGC_MIN_IDX+1)},/*113,89*/
	{121,	113,	PRV_AGC_MIN_IDX},/*113,88*/
	{122,	114,	PRV_AGC_MIN_IDX},
	{123,	115,	PRV_AGC_MIN_IDX},
	{124,	116,	PRV_AGC_MIN_IDX},
	{125,	117,	PRV_AGC_MIN_IDX},
	{126,	118,	PRV_AGC_MIN_IDX},
	{127,	119,	PRV_AGC_MIN_IDX},
	{128,	120,	PRV_AGC_MIN_IDX},
	{129,	121,	PRV_AGC_MIN_IDX},
	{130,	122,	PRV_AGC_MIN_IDX},
	{131,	123,	PRV_AGC_MIN_IDX},
	{132,	124,	PRV_AGC_MIN_IDX},
	{133,	125,	PRV_AGC_MIN_IDX},
	{134,	126,	PRV_AGC_MIN_IDX},
	{135,	127,	PRV_AGC_MIN_IDX},
	{136,	128,	PRV_AGC_MIN_IDX},
	{137,	129,	PRV_AGC_MIN_IDX},
	{138,	130,	PRV_AGC_MIN_IDX},
	{139,	131,	PRV_AGC_MIN_IDX},
	{140,	132,	PRV_AGC_MIN_IDX},
	{141,	133,	PRV_AGC_MIN_IDX},
	{142,	134,	PRV_AGC_MIN_IDX},
	{143,	135,	PRV_AGC_MIN_IDX},
	{144,	136,	PRV_AGC_MIN_IDX},
	{145,	137,	PRV_AGC_MIN_IDX},
	{146,	138,	PRV_AGC_MIN_IDX},
	{147,	139,	PRV_AGC_MIN_IDX},
	{148,	140,	PRV_AGC_MIN_IDX},
	{149,	141,	PRV_AGC_MIN_IDX},
	{150,	142,	PRV_AGC_MIN_IDX},
	{151,	143,	PRV_AGC_MIN_IDX},
	{152,	144,	PRV_AGC_MIN_IDX},
	{153,	145,	PRV_AGC_MIN_IDX},
	{154,	146,	PRV_AGC_MIN_IDX},
	{155,	147,	PRV_AGC_MIN_IDX},
	{156,	148,	PRV_AGC_MIN_IDX},
	{157,	149,	PRV_AGC_MIN_IDX},
	{158,	150,	PRV_AGC_MIN_IDX},
	{159,	151,	PRV_AGC_MIN_IDX},
	{160,	152,	PRV_AGC_MIN_IDX},
	{161,	153,	PRV_AGC_MIN_IDX},
	{162,	154,	PRV_AGC_MIN_IDX},
	{163,	155,	PRV_AGC_MIN_IDX},
	{164,	156,	PRV_AGC_MIN_IDX},
	{165,	157,	PRV_AGC_MIN_IDX},
	{166,	158,	PRV_AGC_MIN_IDX},
	{167,	159,	PRV_AGC_MIN_IDX},
	{168,	160,	PRV_AGC_MIN_IDX},
	{169,	161,	PRV_AGC_MIN_IDX},
	{170,	162,	PRV_AGC_MIN_IDX},
	{171,	163,	PRV_AGC_MIN_IDX},
	{172,	164,	PRV_AGC_MIN_IDX},
	{173,	165,	PRV_AGC_MIN_IDX},
	{174,	166,	PRV_AGC_MIN_IDX},
	{175,	167,	PRV_AGC_MIN_IDX},
	{176,	168,	PRV_AGC_MIN_IDX},
	{177,	169,	PRV_AGC_MIN_IDX},
	{178,	170,	PRV_AGC_MIN_IDX},
	{179,	171,	PRV_AGC_MIN_IDX},
	{180,	172,	PRV_AGC_MIN_IDX},
	{181,	173,	PRV_AGC_MIN_IDX},
	{182,	174,	PRV_AGC_MIN_IDX},
	{183,	175,	PRV_AGC_MIN_IDX},
	{184,	176,	PRV_AGC_MIN_IDX},
	{185,	177,	PRV_AGC_MIN_IDX},
	{186,	178,	PRV_AGC_MIN_IDX},
	{187,	179,	PRV_AGC_MIN_IDX},
	{188,	180,	PRV_AGC_MIN_IDX},
	{189,	181,	PRV_AGC_MIN_IDX},
	{190,	182,	PRV_AGC_MIN_IDX},
	{191,	183,	PRV_AGC_MIN_IDX},
	{192,	184,	PRV_AGC_MIN_IDX},
	{193,	185,	PRV_AGC_MIN_IDX},
	{194,	186,	PRV_AGC_MIN_IDX},
	{195,	187,	PRV_AGC_MIN_IDX},
	{196,	188,	PRV_AGC_MIN_IDX},
	{197,	189,	PRV_AGC_MIN_IDX},
	{198,	190,	PRV_AGC_MIN_IDX},
	{199,	191,	PRV_AGC_MIN_IDX},
	{200,	192,	PRV_AGC_MIN_IDX},
	{201,	193,	PRV_AGC_MIN_IDX},
	{202,	194,	PRV_AGC_MIN_IDX},
	{203,	195,	PRV_AGC_MIN_IDX},
	{204,	196,	PRV_AGC_MIN_IDX},
	{205,	197,	PRV_AGC_MIN_IDX},
	{206,	198,	PRV_AGC_MIN_IDX},
	{207,	199,	PRV_AGC_MIN_IDX},
	{208,	200,	PRV_AGC_MIN_IDX},
	{209,	201,	PRV_AGC_MIN_IDX},
	{210,	202,	PRV_AGC_MIN_IDX},
	{211,	203,	PRV_AGC_MIN_IDX},
	{212,	204,	PRV_AGC_MIN_IDX},
	{213,	205,	PRV_AGC_MIN_IDX},
	{214,	206,	PRV_AGC_MIN_IDX},
	{215,	207,	PRV_AGC_MIN_IDX},
	{216,	208,	PRV_AGC_MIN_IDX},
	{217,	209,	PRV_AGC_MIN_IDX},
	{218,	210,	PRV_AGC_MIN_IDX},
	{219,	211,	PRV_AGC_MIN_IDX},
	{220,	212,	PRV_AGC_MIN_IDX},
	{221,	213,	PRV_AGC_MIN_IDX},
	{222,	214,	PRV_AGC_MIN_IDX},
	{223,	215,	PRV_AGC_MIN_IDX},
	{224,	216,	PRV_AGC_MIN_IDX},
	{225,	217,	PRV_AGC_MIN_IDX},
	{226,	218,	PRV_AGC_MIN_IDX},
	{227,	219,	PRV_AGC_MIN_IDX},
	{228,	220,	PRV_AGC_MIN_IDX},
	{229,	221,	PRV_AGC_MIN_IDX},
	{230,	222,	PRV_AGC_MIN_IDX},
	{231,	223,	PRV_AGC_MIN_IDX},
	{232,	224,	PRV_AGC_MIN_IDX},
	{233,	225,	PRV_AGC_MIN_IDX},
	{234,	226,	PRV_AGC_MIN_IDX},
	{235,	227,	PRV_AGC_MIN_IDX},
	{236,	228,	PRV_AGC_MIN_IDX},
	{237,	229,	PRV_AGC_MIN_IDX},
	{238,	230,	PRV_AGC_MIN_IDX},
	{239,	231,	PRV_AGC_MIN_IDX},
	{240,	232,	PRV_AGC_MIN_IDX},
	{242,	233,	PRV_AGC_MIN_IDX},
	{242,	234,	PRV_AGC_MIN_IDX},
	{243,	235,	PRV_AGC_MIN_IDX},
	{244,	236,	PRV_AGC_MIN_IDX},
	{245,	237,	PRV_AGC_MIN_IDX},
	{246,	238,	PRV_AGC_MIN_IDX},
	{247,	239,	PRV_AGC_MIN_IDX},
	{248,	240,	PRV_AGC_MIN_IDX},
	{249,	241,	PRV_AGC_MIN_IDX},
	{250,	242,	PRV_AGC_MIN_IDX},
	{251,	243,	PRV_AGC_MIN_IDX},
	{252,	244,	PRV_AGC_MIN_IDX},	

};

static aeExpAgcIdx_t ae60Fps60HzExpAgcSet[228]=
{
	{0,  	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,156*/
	{1,  	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+94 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,155*/
	{2,  	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+93 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,154*/
	{3,  	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+92 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,153*/
	{4,  	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+91 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,152*/
	{5,  	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+90 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,151*/
	{6,  	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+89 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,150*/
	{7,  	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+88 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,149*/
	{8,  	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+87 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,148*/
	{9,  	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+86 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,147*/
	{10, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+85 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,146*/
	{11, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+84 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,145*/
	{12, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+83 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,144*/
	{13, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+82 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,143*/
	{14, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+81 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,142*/
	{15, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+80 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,141*/
	{16, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+79 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,140*/
	{17, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+78 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,139*/
	{18, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+77 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,138*/
	{19, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+76 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,137*/
	{20, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+75 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,136*/
	{21, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+74 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,135*/
	{22, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+73 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,134*/
	{23, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+72 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,133*/
	{24, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+71 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,132*/
	{25, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+70 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,131*/
	{26, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+69 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,130*/
	{27, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+68 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,129*/
	{28, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+67 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,128*/
	{29, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+66 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,127*/
	{30, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+65 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,126*/
	{31, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+64 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,125*/
	{32, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+63 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,124*/
	{33, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+62 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,123*/
	{34, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+61 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,122*/
	{35, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+60 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,121*/
	{36, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+59 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,120*/
	{37, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+58 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,119*/
	{38, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+57 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,118*/
	{39, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+56 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,117*/
	{40, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+55 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,116*/
	{41, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+54 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,115*/
	{42, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+53 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,114*/
	{43, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+52 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,113*/
	{44, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+51 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,112*/
	{45, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+50 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,111*/
	{46, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+49 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,110*/
	{47, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+48 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,109*/
	{48, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+47 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,108*/
	{49, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+46 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,107*/
	{50, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+45 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,106*/
	{51, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+44 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,105*/
	{52, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+43 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,104*/
	{53, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+42 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,103*/
	{54, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+41 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,102*/
	{55, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+40 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,101*/
	{56, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+39 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,100*/
	{57, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+38 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,99*/
	{58, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+37 - (113 - PRV_EXP_60HZ_1_60-1))},/*85,98*/
	{59, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+36 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,108*/
	{60, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+35 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,107*/
	{61, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+34 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,106*/
	{62, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+33 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,105*/
	{63, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+32 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,104*/
	{64, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+31 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,103*/
	{65, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+30 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,102*/
	{66, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+29 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,101*/
	{67, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+28 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,100*/
	{68, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+27 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,99*/
	{69, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+26 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,98*/
	{70, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+25 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,97*/
	{71, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+24 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,96*/
	{72, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+23 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,95*/
	{73, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+22 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,94*/
	{74, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+21 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,93*/
	{75, 	PRV_EXP_60HZ_1_60,	(PRV_AGC_MIN_IDX+20 - (113 - PRV_EXP_60HZ_1_60-1))},/*96,92*/
	{76, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+19 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,106*/
	{77, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+18 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,105*/
	{78, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+17 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,104*/
	{79, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+16 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,103*/
	{80, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+15 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,102*/
	{81, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+14 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,101*/
	{82, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+13 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,100*/
	{83, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+12 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,99*/
	{84, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+11 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,98*/
	{85, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+10 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,97*/
	{86, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+9 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,96*/
	{87, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+8 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,95*/
	{88, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+7 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,94*/
	{89, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+6 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,93*/
	{90, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+5 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,92*/
	{91, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+4 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,91*/
	{92, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+3 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,90*/
	{93, 	113,					(PRV_AGC_MIN_IDX+3)},/*113,91*/
	{94, 	113,					(PRV_AGC_MIN_IDX+2)},/*113,90*/
	{95, 	113,					(PRV_AGC_MIN_IDX+1)},/*113,89*/
	{96, 	113,	PRV_AGC_MIN_IDX},/*113,88*/
	{97, 	114,	PRV_AGC_MIN_IDX},
	{98, 	115,	PRV_AGC_MIN_IDX},
	{99, 	116,	PRV_AGC_MIN_IDX},
	{100,	117,	PRV_AGC_MIN_IDX},
	{101,	118,	PRV_AGC_MIN_IDX},
	{102,	119,	PRV_AGC_MIN_IDX},
	{103,	120,	PRV_AGC_MIN_IDX},
	{104,	121,	PRV_AGC_MIN_IDX},
	{105,	122,	PRV_AGC_MIN_IDX},
	{106,	123,	PRV_AGC_MIN_IDX},
	{107,	124,	PRV_AGC_MIN_IDX},
	{108,	125,	PRV_AGC_MIN_IDX},
	{109,	126,	PRV_AGC_MIN_IDX},
	{110,	127,	PRV_AGC_MIN_IDX},
	{111,	128,	PRV_AGC_MIN_IDX},
	{112,	129,	PRV_AGC_MIN_IDX},
	{113,	130,	PRV_AGC_MIN_IDX},
	{114,	131,	PRV_AGC_MIN_IDX},
	{115,	132,	PRV_AGC_MIN_IDX},
	{116,	133,	PRV_AGC_MIN_IDX},
	{117,	134,	PRV_AGC_MIN_IDX},
	{118,	135,	PRV_AGC_MIN_IDX},
	{119,	136,	PRV_AGC_MIN_IDX},
	{120,	137,	PRV_AGC_MIN_IDX},
	{121,	138,	PRV_AGC_MIN_IDX},
	{122,	139,	PRV_AGC_MIN_IDX},
	{123,	140,	PRV_AGC_MIN_IDX},
	{124,	141,	PRV_AGC_MIN_IDX},
	{125,	142,	PRV_AGC_MIN_IDX},
	{126,	143,	PRV_AGC_MIN_IDX},
	{127,	144,	PRV_AGC_MIN_IDX},
	{128,	145,	PRV_AGC_MIN_IDX},
	{129,	146,	PRV_AGC_MIN_IDX},
	{130,	147,	PRV_AGC_MIN_IDX},
	{131,	148,	PRV_AGC_MIN_IDX},
	{132,	149,	PRV_AGC_MIN_IDX},
	{133,	150,	PRV_AGC_MIN_IDX},
	{134,	151,	PRV_AGC_MIN_IDX},
	{135,	152,	PRV_AGC_MIN_IDX},
	{136,	153,	PRV_AGC_MIN_IDX},
	{137,	154,	PRV_AGC_MIN_IDX},
	{138,	155,	PRV_AGC_MIN_IDX},
	{139,	156,	PRV_AGC_MIN_IDX},
	{140,	157,	PRV_AGC_MIN_IDX},
	{141,	158,	PRV_AGC_MIN_IDX},
	{142,	159,	PRV_AGC_MIN_IDX},
	{143,	160,	PRV_AGC_MIN_IDX},
	{144,	161,	PRV_AGC_MIN_IDX},
	{145,	162,	PRV_AGC_MIN_IDX},
	{146,	163,	PRV_AGC_MIN_IDX},
	{147,	164,	PRV_AGC_MIN_IDX},
	{148,	165,	PRV_AGC_MIN_IDX},
	{149,	166,	PRV_AGC_MIN_IDX},
	{150,	167,	PRV_AGC_MIN_IDX},
	{151,	168,	PRV_AGC_MIN_IDX},
	{152,	169,	PRV_AGC_MIN_IDX},
	{153,	170,	PRV_AGC_MIN_IDX},
	{154,	171,	PRV_AGC_MIN_IDX},
	{155,	172,	PRV_AGC_MIN_IDX},
	{156,	173,	PRV_AGC_MIN_IDX},
	{157,	174,	PRV_AGC_MIN_IDX},
	{158,	175,	PRV_AGC_MIN_IDX},
	{159,	176,	PRV_AGC_MIN_IDX},
	{160,	177,	PRV_AGC_MIN_IDX},
	{161,	178,	PRV_AGC_MIN_IDX},
	{162,	179,	PRV_AGC_MIN_IDX},
	{163,	180,	PRV_AGC_MIN_IDX},
	{164,	181,	PRV_AGC_MIN_IDX},
	{165,	182,	PRV_AGC_MIN_IDX},
	{166,	183,	PRV_AGC_MIN_IDX},
	{167,	184,	PRV_AGC_MIN_IDX},
	{168,	185,	PRV_AGC_MIN_IDX},
	{169,	186,	PRV_AGC_MIN_IDX},
	{170,	187,	PRV_AGC_MIN_IDX},
	{171,	188,	PRV_AGC_MIN_IDX},
	{172,	189,	PRV_AGC_MIN_IDX},
	{173,	190,	PRV_AGC_MIN_IDX},
	{174,	191,	PRV_AGC_MIN_IDX},
	{175,	192,	PRV_AGC_MIN_IDX},
	{176,	193,	PRV_AGC_MIN_IDX},
	{177,	194,	PRV_AGC_MIN_IDX},
	{178,	195,	PRV_AGC_MIN_IDX},
	{179,	196,	PRV_AGC_MIN_IDX},
	{180,	197,	PRV_AGC_MIN_IDX},
	{181,	198,	PRV_AGC_MIN_IDX},
	{182,	199,	PRV_AGC_MIN_IDX},
	{183,	200,	PRV_AGC_MIN_IDX},
	{184,	201,	PRV_AGC_MIN_IDX},
	{185,	202,	PRV_AGC_MIN_IDX},
	{186,	203,	PRV_AGC_MIN_IDX},
	{187,	204,	PRV_AGC_MIN_IDX},
	{188,	205,	PRV_AGC_MIN_IDX},
	{189,	206,	PRV_AGC_MIN_IDX},
	{190,	207,	PRV_AGC_MIN_IDX},
	{191,	208,	PRV_AGC_MIN_IDX},
	{192,	209,	PRV_AGC_MIN_IDX},
	{193,	210,	PRV_AGC_MIN_IDX},
	{194,	211,	PRV_AGC_MIN_IDX},
	{195,	212,	PRV_AGC_MIN_IDX},
	{196,	213,	PRV_AGC_MIN_IDX},
	{197,	214,	PRV_AGC_MIN_IDX},
	{198,	215,	PRV_AGC_MIN_IDX},
	{199,	216,	PRV_AGC_MIN_IDX},
	{200,	217,	PRV_AGC_MIN_IDX},
	{201,	218,	PRV_AGC_MIN_IDX},
	{202,	219,	PRV_AGC_MIN_IDX},
	{203,	220,	PRV_AGC_MIN_IDX},
	{204,	221,	PRV_AGC_MIN_IDX},
	{205,	222,	PRV_AGC_MIN_IDX},
	{206,	223,	PRV_AGC_MIN_IDX},
	{207,	224,	PRV_AGC_MIN_IDX},
	{208,	225,	PRV_AGC_MIN_IDX},
	{209,	226,	PRV_AGC_MIN_IDX},
	{210,	227,	PRV_AGC_MIN_IDX},
	{211,	228,	PRV_AGC_MIN_IDX},
	{212,	229,	PRV_AGC_MIN_IDX},
	{213,	230,	PRV_AGC_MIN_IDX},
	{214,	231,	PRV_AGC_MIN_IDX},
	{215,	232,	PRV_AGC_MIN_IDX},
	{216,	233,	PRV_AGC_MIN_IDX},
	{217,	234,	PRV_AGC_MIN_IDX},
	{218,	235,	PRV_AGC_MIN_IDX},
	{219,	236,	PRV_AGC_MIN_IDX},
	{220,	237,	PRV_AGC_MIN_IDX},
	{221,	238,	PRV_AGC_MIN_IDX},
	{222,	239,	PRV_AGC_MIN_IDX},
	{223,	240,	PRV_AGC_MIN_IDX},
	{224,	241,	PRV_AGC_MIN_IDX},
	{225,	242,	PRV_AGC_MIN_IDX},
	{226,	243,	PRV_AGC_MIN_IDX},
	{227,	244,	PRV_AGC_MIN_IDX},
};

static aeExpAgcIdx_t ae60Fps50HzExpAgcSet[228]=
{
	{0,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,156*/
	{1,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+94 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,155*/
	{2,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+93 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,154*/
	{3,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+92 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,153*/
	{4,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+91 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,152*/
	{5,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+90 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,151*/
	{6,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+89 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,150*/
	{7,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+88 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,149*/
	{8,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+87 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,148*/
	{9,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+86 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,147*/
	{10, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+85 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,146*/
	{11, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+84 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,145*/
	{12, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+83 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,144*/
	{13, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+82 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,143*/
	{14, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+81 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,142*/
	{15, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+80 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,141*/
	{16, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+79 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,140*/
	{17, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+78 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,139*/
	{18, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+77 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,138*/
	{19, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+76 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,137*/
	{20, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+75 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,136*/
	{21, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+74 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,135*/
	{22, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+73 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,134*/
	{23, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+72 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,133*/
	{24, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+71 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,132*/
	{25, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+70 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,131*/
	{26, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+69 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,130*/
	{27, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+68 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,129*/
	{28, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+67 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,128*/
	{29, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+66 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,127*/
	{30, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+65 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,126*/
	{31, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+64 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,125*/
	{32, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+63 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,124*/
	{33, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+62 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,123*/
	{34, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+61 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,122*/
	{35, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+60 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,121*/
	{36, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+59 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,120*/
	{37, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+58 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,119*/
	{38, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+57 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,118*/
	{39, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+56 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,117*/
	{40, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+55 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,116*/
	{41, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+54 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,115*/
	{42, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+53 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,114*/
	{43, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+52 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,113*/
	{44, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+51 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,112*/
	{45, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+50 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,111*/
	{46, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+49 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,110*/
	{47, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+48 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,109*/
	{48, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+47 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,108*/
	{49, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+46 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,107*/
	{50, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+45 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,106*/
	{51, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+44 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,105*/
	{52, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+43 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,104*/
	{53, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+42 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,103*/
	{54, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+41 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,102*/
	{55, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+40 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,101*/
	{56, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+39 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,100*/
	{57, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+38 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,99*/
	{58, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+37 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,98*/
	{59, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+36 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,108*/
	{60, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+35 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,107*/
	{61, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+34 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,106*/
	{62, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+33 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,105*/
	{63, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+32 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,104*/
	{64, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+31 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,103*/
	{65, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+30 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,102*/
	{66, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+29 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,101*/
	{67, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+28 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,100*/
	{68, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+27 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,99*/
	{69, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+26 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,98*/
	{70, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+25 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,97*/
	{71, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+24 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,96*/
	{72, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+23 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,95*/
	{73, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+22 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,94*/
	{74, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+21 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,93*/
	{75, PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+20 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,92*/
	{76, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+19 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,106*/
	{77, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+18 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,105*/
	{78, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+17 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,104*/
	{79, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+16 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,103*/
	{80, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+15 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,102*/
	{81, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+14 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,101*/
	{82, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+13 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,100*/
	{83, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+12 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,99*/
	{84, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+11 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,98*/
	{85, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+10 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,97*/
	{86, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+9 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,96*/
	{87, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+8 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,95*/
	{88, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+7 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,94*/
	{89, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+6 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,93*/
	{90, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+5 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,92*/
	{91, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+4 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,91*/
	{92, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+3 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,90*/
	{93, 	113,					(PRV_AGC_MIN_IDX+3)},/*113,91*/
	{94, 	113,					(PRV_AGC_MIN_IDX+2)},/*113,90*/
	{95, 	113,					(PRV_AGC_MIN_IDX+1)},/*113,89*/
	{96, 	113,	PRV_AGC_MIN_IDX},/*113,88*/
	{97, 	114,	PRV_AGC_MIN_IDX},
	{98, 	115,	PRV_AGC_MIN_IDX},
	{99, 	116,	PRV_AGC_MIN_IDX},
	{100,	117,	PRV_AGC_MIN_IDX},
	{101,	118,	PRV_AGC_MIN_IDX},
	{102,	119,	PRV_AGC_MIN_IDX},
	{103,	120,	PRV_AGC_MIN_IDX},
	{104,	121,	PRV_AGC_MIN_IDX},
	{105,	122,	PRV_AGC_MIN_IDX},
	{106,	123,	PRV_AGC_MIN_IDX},
	{107,	124,	PRV_AGC_MIN_IDX},
	{108,	125,	PRV_AGC_MIN_IDX},
	{109,	126,	PRV_AGC_MIN_IDX},
	{110,	127,	PRV_AGC_MIN_IDX},
	{111,	128,	PRV_AGC_MIN_IDX},
	{112,	129,	PRV_AGC_MIN_IDX},
	{113,	130,	PRV_AGC_MIN_IDX},
	{114,	131,	PRV_AGC_MIN_IDX},
	{115,	132,	PRV_AGC_MIN_IDX},
	{116,	133,	PRV_AGC_MIN_IDX},
	{117,	134,	PRV_AGC_MIN_IDX},
	{118,	135,	PRV_AGC_MIN_IDX},
	{119,	136,	PRV_AGC_MIN_IDX},
	{120,	137,	PRV_AGC_MIN_IDX},
	{121,	138,	PRV_AGC_MIN_IDX},
	{122,	139,	PRV_AGC_MIN_IDX},
	{123,	140,	PRV_AGC_MIN_IDX},
	{124,	141,	PRV_AGC_MIN_IDX},
	{125,	142,	PRV_AGC_MIN_IDX},
	{126,	143,	PRV_AGC_MIN_IDX},
	{127,	144,	PRV_AGC_MIN_IDX},
	{128,	145,	PRV_AGC_MIN_IDX},
	{129,	146,	PRV_AGC_MIN_IDX},
	{130,	147,	PRV_AGC_MIN_IDX},
	{131,	148,	PRV_AGC_MIN_IDX},
	{132,	149,	PRV_AGC_MIN_IDX},
	{133,	150,	PRV_AGC_MIN_IDX},
	{134,	151,	PRV_AGC_MIN_IDX},
	{135,	152,	PRV_AGC_MIN_IDX},
	{136,	153,	PRV_AGC_MIN_IDX},
	{137,	154,	PRV_AGC_MIN_IDX},
	{138,	155,	PRV_AGC_MIN_IDX},
	{139,	156,	PRV_AGC_MIN_IDX},
	{140,	157,	PRV_AGC_MIN_IDX},
	{141,	158,	PRV_AGC_MIN_IDX},
	{142,	159,	PRV_AGC_MIN_IDX},
	{143,	160,	PRV_AGC_MIN_IDX},
	{144,	161,	PRV_AGC_MIN_IDX},
	{145,	162,	PRV_AGC_MIN_IDX},
	{146,	163,	PRV_AGC_MIN_IDX},
	{147,	164,	PRV_AGC_MIN_IDX},
	{148,	165,	PRV_AGC_MIN_IDX},
	{149,	166,	PRV_AGC_MIN_IDX},
	{150,	167,	PRV_AGC_MIN_IDX},
	{151,	168,	PRV_AGC_MIN_IDX},
	{152,	169,	PRV_AGC_MIN_IDX},
	{153,	170,	PRV_AGC_MIN_IDX},
	{154,	171,	PRV_AGC_MIN_IDX},
	{155,	172,	PRV_AGC_MIN_IDX},
	{156,	173,	PRV_AGC_MIN_IDX},
	{157,	174,	PRV_AGC_MIN_IDX},
	{158,	175,	PRV_AGC_MIN_IDX},
	{159,	176,	PRV_AGC_MIN_IDX},
	{160,	177,	PRV_AGC_MIN_IDX},
	{161,	178,	PRV_AGC_MIN_IDX},
	{162,	179,	PRV_AGC_MIN_IDX},
	{163,	180,	PRV_AGC_MIN_IDX},
	{164,	181,	PRV_AGC_MIN_IDX},
	{165,	182,	PRV_AGC_MIN_IDX},
	{166,	183,	PRV_AGC_MIN_IDX},
	{167,	184,	PRV_AGC_MIN_IDX},
	{168,	185,	PRV_AGC_MIN_IDX},
	{169,	186,	PRV_AGC_MIN_IDX},
	{170,	187,	PRV_AGC_MIN_IDX},
	{171,	188,	PRV_AGC_MIN_IDX},
	{172,	189,	PRV_AGC_MIN_IDX},
	{173,	190,	PRV_AGC_MIN_IDX},
	{174,	191,	PRV_AGC_MIN_IDX},
	{175,	192,	PRV_AGC_MIN_IDX},
	{176,	193,	PRV_AGC_MIN_IDX},
	{177,	194,	PRV_AGC_MIN_IDX},
	{178,	195,	PRV_AGC_MIN_IDX},
	{179,	196,	PRV_AGC_MIN_IDX},
	{180,	197,	PRV_AGC_MIN_IDX},
	{181,	198,	PRV_AGC_MIN_IDX},
	{182,	199,	PRV_AGC_MIN_IDX},
	{183,	200,	PRV_AGC_MIN_IDX},
	{184,	201,	PRV_AGC_MIN_IDX},
	{185,	202,	PRV_AGC_MIN_IDX},
	{186,	203,	PRV_AGC_MIN_IDX},
	{187,	204,	PRV_AGC_MIN_IDX},
	{188,	205,	PRV_AGC_MIN_IDX},
	{189,	206,	PRV_AGC_MIN_IDX},
	{190,	207,	PRV_AGC_MIN_IDX},
	{191,	208,	PRV_AGC_MIN_IDX},
	{192,	209,	PRV_AGC_MIN_IDX},
	{193,	210,	PRV_AGC_MIN_IDX},
	{194,	211,	PRV_AGC_MIN_IDX},
	{195,	212,	PRV_AGC_MIN_IDX},
	{196,	213,	PRV_AGC_MIN_IDX},
	{197,	214,	PRV_AGC_MIN_IDX},
	{198,	215,	PRV_AGC_MIN_IDX},
	{199,	216,	PRV_AGC_MIN_IDX},
	{200,	217,	PRV_AGC_MIN_IDX},
	{201,	218,	PRV_AGC_MIN_IDX},
	{202,	219,	PRV_AGC_MIN_IDX},
	{203,	220,	PRV_AGC_MIN_IDX},
	{204,	221,	PRV_AGC_MIN_IDX},
	{205,	222,	PRV_AGC_MIN_IDX},
	{206,	223,	PRV_AGC_MIN_IDX},
	{207,	224,	PRV_AGC_MIN_IDX},
	{208,	225,	PRV_AGC_MIN_IDX},
	{209,	226,	PRV_AGC_MIN_IDX},
	{210,	227,	PRV_AGC_MIN_IDX},
	{211,	228,	PRV_AGC_MIN_IDX},
	{212,	229,	PRV_AGC_MIN_IDX},
	{213,	230,	PRV_AGC_MIN_IDX},
	{214,	231,	PRV_AGC_MIN_IDX},
	{215,	232,	PRV_AGC_MIN_IDX},
	{216,	233,	PRV_AGC_MIN_IDX},
	{217,	234,	PRV_AGC_MIN_IDX},
	{218,	235,	PRV_AGC_MIN_IDX},
	{219,	236,	PRV_AGC_MIN_IDX},
	{220,	237,	PRV_AGC_MIN_IDX},
	{221,	238,	PRV_AGC_MIN_IDX},
	{222,	239,	PRV_AGC_MIN_IDX},
	{223,	240,	PRV_AGC_MIN_IDX},
	{224,	241,	PRV_AGC_MIN_IDX},
	{225,	242,	PRV_AGC_MIN_IDX},
	{226,	243,	PRV_AGC_MIN_IDX},
	{227,	244,	PRV_AGC_MIN_IDX},


};


static aeExpAgcIdx_t ae120Fps60HzExpAgcSet[228]=
{
	{0,  	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,156*/
	{1,  	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+94 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,155*/
	{2,  	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+93 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,154*/
	{3,  	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+92 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,153*/
	{4,  	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+91 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,152*/
	{5,  	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+90 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,151*/
	{6,  	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+89 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,150*/
	{7,  	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+88 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,149*/
	{8,  	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+87 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,148*/
	{9,  	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+86 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,147*/
	{10, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+85 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,146*/
	{11, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+84 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,145*/
	{12, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+83 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,144*/
	{13, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+82 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,143*/
	{14, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+81 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,142*/
	{15, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+80 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,141*/
	{16, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+79 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,140*/
	{17, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+78 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,139*/
	{18, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+77 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,138*/
	{19, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+76 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,137*/
	{20, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+75 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,136*/
	{21, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+74 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,135*/
	{22, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+73 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,134*/
	{23, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+72 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,133*/
	{24, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+71 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,132*/
	{25, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+70 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,131*/
	{26, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+69 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,130*/
	{27, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+68 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,129*/
	{28, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+67 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,128*/
	{29, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+66 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,127*/
	{30, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+65 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,126*/
	{31, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+64 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,125*/
	{32, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+63 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,124*/
	{33, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+62 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,123*/
	{34, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+61 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,122*/
	{35, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+60 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,121*/
	{36, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+59 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,120*/
	{37, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+58 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,119*/
	{38, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+57 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,118*/
	{39, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+56 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,117*/
	{40, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+55 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,116*/
	{41, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+54 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,115*/
	{42, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+53 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,114*/
	{43, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+52 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,113*/
	{44, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+51 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,112*/
	{45, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+50 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,111*/
	{46, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+49 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,110*/
	{47, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+48 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,109*/
	{48, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+47 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,108*/
	{49, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+46 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,107*/
	{50, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+45 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,106*/
	{51, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+44 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,105*/
	{52, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+43 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,104*/
	{53, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+42 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,103*/
	{54, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+41 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,102*/
	{55, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+40 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,101*/
	{56, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+39 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,100*/
	{57, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+38 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,99*/
	{58, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+37 - (113 - PRV_EXP_60HZ_1_120-1))},/*85,98*/
	{59, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+36 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,108*/
	{60, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+35 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,107*/
	{61, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+34 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,106*/
	{62, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+33 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,105*/
	{63, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+32 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,104*/
	{64, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+31 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,103*/
	{65, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+30 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,102*/
	{66, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+29 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,101*/
	{67, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+28 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,100*/
	{68, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+27 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,99*/
	{69, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+26 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,98*/
	{70, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+25 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,97*/
	{71, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+24 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,96*/
	{72, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+23 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,95*/
	{73, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+22 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,94*/
	{74, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+21 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,93*/
	{75, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+20 - (113 - PRV_EXP_60HZ_1_120-1))},/*96,92*/
	{76, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+19 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,106*/
	{77, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+18 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,105*/
	{78, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+17 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,104*/
	{79, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+16 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,103*/
	{80, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+15 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,102*/
	{81, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+14 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,101*/
	{82, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+13 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,100*/
	{83, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+12 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,99*/
	{84, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+11 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,98*/
	{85, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+10 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,97*/
	{86, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+9 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,96*/
	{87, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+8 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,95*/
	{88, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+7 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,94*/
	{89, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+6 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,93*/
	{90, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+5 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,92*/
	{91, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+4 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,91*/
	{92, 	PRV_EXP_60HZ_1_120,	(PRV_AGC_MIN_IDX+3 - (113 - PRV_EXP_60HZ_1_120-1))},/*111,90*/
	{93, 	113,					(PRV_AGC_MIN_IDX+3)},/*113,91*/
	{94, 	113,					(PRV_AGC_MIN_IDX+2)},/*113,90*/
	{95, 	113,					(PRV_AGC_MIN_IDX+1)},/*113,89*/
	{96, 	113,	PRV_AGC_MIN_IDX},/*113,88*/
	{97, 	114,	PRV_AGC_MIN_IDX},
	{98, 	115,	PRV_AGC_MIN_IDX},
	{99, 	116,	PRV_AGC_MIN_IDX},
	{100,	117,	PRV_AGC_MIN_IDX},
	{101,	118,	PRV_AGC_MIN_IDX},
	{102,	119,	PRV_AGC_MIN_IDX},
	{103,	120,	PRV_AGC_MIN_IDX},
	{104,	121,	PRV_AGC_MIN_IDX},
	{105,	122,	PRV_AGC_MIN_IDX},
	{106,	123,	PRV_AGC_MIN_IDX},
	{107,	124,	PRV_AGC_MIN_IDX},
	{108,	125,	PRV_AGC_MIN_IDX},
	{109,	126,	PRV_AGC_MIN_IDX},
	{110,	127,	PRV_AGC_MIN_IDX},
	{111,	128,	PRV_AGC_MIN_IDX},
	{112,	129,	PRV_AGC_MIN_IDX},
	{113,	130,	PRV_AGC_MIN_IDX},
	{114,	131,	PRV_AGC_MIN_IDX},
	{115,	132,	PRV_AGC_MIN_IDX},
	{116,	133,	PRV_AGC_MIN_IDX},
	{117,	134,	PRV_AGC_MIN_IDX},
	{118,	135,	PRV_AGC_MIN_IDX},
	{119,	136,	PRV_AGC_MIN_IDX},
	{120,	137,	PRV_AGC_MIN_IDX},
	{121,	138,	PRV_AGC_MIN_IDX},
	{122,	139,	PRV_AGC_MIN_IDX},
	{123,	140,	PRV_AGC_MIN_IDX},
	{124,	141,	PRV_AGC_MIN_IDX},
	{125,	142,	PRV_AGC_MIN_IDX},
	{126,	143,	PRV_AGC_MIN_IDX},
	{127,	144,	PRV_AGC_MIN_IDX},
	{128,	145,	PRV_AGC_MIN_IDX},
	{129,	146,	PRV_AGC_MIN_IDX},
	{130,	147,	PRV_AGC_MIN_IDX},
	{131,	148,	PRV_AGC_MIN_IDX},
	{132,	149,	PRV_AGC_MIN_IDX},
	{133,	150,	PRV_AGC_MIN_IDX},
	{134,	151,	PRV_AGC_MIN_IDX},
	{135,	152,	PRV_AGC_MIN_IDX},
	{136,	153,	PRV_AGC_MIN_IDX},
	{137,	154,	PRV_AGC_MIN_IDX},
	{138,	155,	PRV_AGC_MIN_IDX},
	{139,	156,	PRV_AGC_MIN_IDX},
	{140,	157,	PRV_AGC_MIN_IDX},
	{141,	158,	PRV_AGC_MIN_IDX},
	{142,	159,	PRV_AGC_MIN_IDX},
	{143,	160,	PRV_AGC_MIN_IDX},
	{144,	161,	PRV_AGC_MIN_IDX},
	{145,	162,	PRV_AGC_MIN_IDX},
	{146,	163,	PRV_AGC_MIN_IDX},
	{147,	164,	PRV_AGC_MIN_IDX},
	{148,	165,	PRV_AGC_MIN_IDX},
	{149,	166,	PRV_AGC_MIN_IDX},
	{150,	167,	PRV_AGC_MIN_IDX},
	{151,	168,	PRV_AGC_MIN_IDX},
	{152,	169,	PRV_AGC_MIN_IDX},
	{153,	170,	PRV_AGC_MIN_IDX},
	{154,	171,	PRV_AGC_MIN_IDX},
	{155,	172,	PRV_AGC_MIN_IDX},
	{156,	173,	PRV_AGC_MIN_IDX},
	{157,	174,	PRV_AGC_MIN_IDX},
	{158,	175,	PRV_AGC_MIN_IDX},
	{159,	176,	PRV_AGC_MIN_IDX},
	{160,	177,	PRV_AGC_MIN_IDX},
	{161,	178,	PRV_AGC_MIN_IDX},
	{162,	179,	PRV_AGC_MIN_IDX},
	{163,	180,	PRV_AGC_MIN_IDX},
	{164,	181,	PRV_AGC_MIN_IDX},
	{165,	182,	PRV_AGC_MIN_IDX},
	{166,	183,	PRV_AGC_MIN_IDX},
	{167,	184,	PRV_AGC_MIN_IDX},
	{168,	185,	PRV_AGC_MIN_IDX},
	{169,	186,	PRV_AGC_MIN_IDX},
	{170,	187,	PRV_AGC_MIN_IDX},
	{171,	188,	PRV_AGC_MIN_IDX},
	{172,	189,	PRV_AGC_MIN_IDX},
	{173,	190,	PRV_AGC_MIN_IDX},
	{174,	191,	PRV_AGC_MIN_IDX},
	{175,	192,	PRV_AGC_MIN_IDX},
	{176,	193,	PRV_AGC_MIN_IDX},
	{177,	194,	PRV_AGC_MIN_IDX},
	{178,	195,	PRV_AGC_MIN_IDX},
	{179,	196,	PRV_AGC_MIN_IDX},
	{180,	197,	PRV_AGC_MIN_IDX},
	{181,	198,	PRV_AGC_MIN_IDX},
	{182,	199,	PRV_AGC_MIN_IDX},
	{183,	200,	PRV_AGC_MIN_IDX},
	{184,	201,	PRV_AGC_MIN_IDX},
	{185,	202,	PRV_AGC_MIN_IDX},
	{186,	203,	PRV_AGC_MIN_IDX},
	{187,	204,	PRV_AGC_MIN_IDX},
	{188,	205,	PRV_AGC_MIN_IDX},
	{189,	206,	PRV_AGC_MIN_IDX},
	{190,	207,	PRV_AGC_MIN_IDX},
	{191,	208,	PRV_AGC_MIN_IDX},
	{192,	209,	PRV_AGC_MIN_IDX},
	{193,	210,	PRV_AGC_MIN_IDX},
	{194,	211,	PRV_AGC_MIN_IDX},
	{195,	212,	PRV_AGC_MIN_IDX},
	{196,	213,	PRV_AGC_MIN_IDX},
	{197,	214,	PRV_AGC_MIN_IDX},
	{198,	215,	PRV_AGC_MIN_IDX},
	{199,	216,	PRV_AGC_MIN_IDX},
	{200,	217,	PRV_AGC_MIN_IDX},
	{201,	218,	PRV_AGC_MIN_IDX},
	{202,	219,	PRV_AGC_MIN_IDX},
	{203,	220,	PRV_AGC_MIN_IDX},
	{204,	221,	PRV_AGC_MIN_IDX},
	{205,	222,	PRV_AGC_MIN_IDX},
	{206,	223,	PRV_AGC_MIN_IDX},
	{207,	224,	PRV_AGC_MIN_IDX},
	{208,	225,	PRV_AGC_MIN_IDX},
	{209,	226,	PRV_AGC_MIN_IDX},
	{210,	227,	PRV_AGC_MIN_IDX},
	{211,	228,	PRV_AGC_MIN_IDX},
	{212,	229,	PRV_AGC_MIN_IDX},
	{213,	230,	PRV_AGC_MIN_IDX},
	{214,	231,	PRV_AGC_MIN_IDX},
	{215,	232,	PRV_AGC_MIN_IDX},
	{216,	233,	PRV_AGC_MIN_IDX},
	{217,	234,	PRV_AGC_MIN_IDX},
	{218,	235,	PRV_AGC_MIN_IDX},
	{219,	236,	PRV_AGC_MIN_IDX},
	{220,	237,	PRV_AGC_MIN_IDX},
	{221,	238,	PRV_AGC_MIN_IDX},
	{222,	239,	PRV_AGC_MIN_IDX},
	{223,	240,	PRV_AGC_MIN_IDX},
	{224,	241,	PRV_AGC_MIN_IDX},
	{225,	242,	PRV_AGC_MIN_IDX},
	{226,	243,	PRV_AGC_MIN_IDX},
	{227,	244,	PRV_AGC_MIN_IDX},
};

static aeExpAgcIdx_t ae120Fps50HzExpAgcSet[228]=
{
	{0,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+95 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,156*/
	{1,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+94 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,155*/
	{2,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+93 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,154*/
	{3,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+92 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,153*/
	{4,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+91 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,152*/
	{5,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+90 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,151*/
	{6,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+89 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,150*/
	{7,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+88 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,149*/
	{8,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+87 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,148*/
	{9,  	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+86 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,147*/
	{10, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+85 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,146*/
	{11, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+84 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,145*/
	{12, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+83 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,144*/
	{13, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+82 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,143*/
	{14, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+81 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,142*/
	{15, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+80 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,141*/
	{16, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+79 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,140*/
	{17, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+78 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,139*/
	{18, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+77 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,138*/
	{19, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+76 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,137*/
	{20, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+75 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,136*/
	{21, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+74 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,135*/
	{22, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+73 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,134*/
	{23, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+72 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,133*/
	{24, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+71 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,132*/
	{25, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+70 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,131*/
	{26, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+69 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,130*/
	{27, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+68 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,129*/
	{28, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+67 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,128*/
	{29, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+66 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,127*/
	{30, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+65 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,126*/
	{31, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+64 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,125*/
	{32, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+63 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,124*/
	{33, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+62 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,123*/
	{34, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+61 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,122*/
	{35, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+60 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,121*/
	{36, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+59 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,120*/
	{37, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+58 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,119*/
	{38, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+57 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,118*/
	{39, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+56 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,117*/
	{40, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+55 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,116*/
	{41, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+54 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,115*/
	{42, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+53 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,114*/
	{43, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+52 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,113*/
	{44, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+51 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,112*/
	{45, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+50 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,111*/
	{46, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+49 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,110*/
	{47, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+48 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,109*/
	{48, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+47 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,108*/
	{49, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+46 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,107*/
	{50, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+45 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,106*/
	{51, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+44 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,105*/
	{52, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+43 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,104*/
	{53, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+42 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,103*/
	{54, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+41 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,102*/
	{55, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+40 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,101*/
	{56, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+39 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,100*/
	{57, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+38 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,99*/
	{58, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+37 - (113 - PRV_EXP_50HZ_1_100-1))},/*85,98*/
	{59, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+36 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,108*/
	{60, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+35 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,107*/
	{61, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+34 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,106*/
	{62, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+33 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,105*/
	{63, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+32 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,104*/
	{64, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+31 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,103*/
	{65, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+30 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,102*/
	{66, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+29 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,101*/
	{67, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+28 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,100*/
	{68, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+27 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,99*/
	{69, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+26 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,98*/
	{70, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+25 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,97*/
	{71, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+24 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,96*/
	{72, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+23 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,95*/
	{73, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+22 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,94*/
	{74, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+21 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,93*/
	{75, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+20 - (113 - PRV_EXP_50HZ_1_100-1))},/*96,92*/
	{76, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+19 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,106*/
	{77, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+18 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,105*/
	{78, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+17 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,104*/
	{79, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+16 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,103*/
	{80, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+15 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,102*/
	{81, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+14 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,101*/
	{82, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+13 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,100*/
	{83, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+12 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,99*/
	{84, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+11 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,98*/
	{85, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+10 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,97*/
	{86, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+9 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,96*/
	{87, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+8 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,95*/
	{88, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+7 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,94*/
	{89, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+6 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,93*/
	{90, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+5 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,92*/
	{91, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+4 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,91*/
	{92, 	PRV_EXP_50HZ_1_100,	(PRV_AGC_MIN_IDX+3 - (113 - PRV_EXP_50HZ_1_100-1))},/*111,90*/
	{93, 	113,					(PRV_AGC_MIN_IDX+3)},/*113,91*/
	{94, 	113,					(PRV_AGC_MIN_IDX+2)},/*113,90*/
	{95, 	113,					(PRV_AGC_MIN_IDX+1)},/*113,89*/
	{96, 	113,	PRV_AGC_MIN_IDX},/*113,88*/
	{97, 	114,	PRV_AGC_MIN_IDX},
	{98, 	115,	PRV_AGC_MIN_IDX},
	{99, 	116,	PRV_AGC_MIN_IDX},
	{100,	117,	PRV_AGC_MIN_IDX},
	{101,	118,	PRV_AGC_MIN_IDX},
	{102,	119,	PRV_AGC_MIN_IDX},
	{103,	120,	PRV_AGC_MIN_IDX},
	{104,	121,	PRV_AGC_MIN_IDX},
	{105,	122,	PRV_AGC_MIN_IDX},
	{106,	123,	PRV_AGC_MIN_IDX},
	{107,	124,	PRV_AGC_MIN_IDX},
	{108,	125,	PRV_AGC_MIN_IDX},
	{109,	126,	PRV_AGC_MIN_IDX},
	{110,	127,	PRV_AGC_MIN_IDX},
	{111,	128,	PRV_AGC_MIN_IDX},
	{112,	129,	PRV_AGC_MIN_IDX},
	{113,	130,	PRV_AGC_MIN_IDX},
	{114,	131,	PRV_AGC_MIN_IDX},
	{115,	132,	PRV_AGC_MIN_IDX},
	{116,	133,	PRV_AGC_MIN_IDX},
	{117,	134,	PRV_AGC_MIN_IDX},
	{118,	135,	PRV_AGC_MIN_IDX},
	{119,	136,	PRV_AGC_MIN_IDX},
	{120,	137,	PRV_AGC_MIN_IDX},
	{121,	138,	PRV_AGC_MIN_IDX},
	{122,	139,	PRV_AGC_MIN_IDX},
	{123,	140,	PRV_AGC_MIN_IDX},
	{124,	141,	PRV_AGC_MIN_IDX},
	{125,	142,	PRV_AGC_MIN_IDX},
	{126,	143,	PRV_AGC_MIN_IDX},
	{127,	144,	PRV_AGC_MIN_IDX},
	{128,	145,	PRV_AGC_MIN_IDX},
	{129,	146,	PRV_AGC_MIN_IDX},
	{130,	147,	PRV_AGC_MIN_IDX},
	{131,	148,	PRV_AGC_MIN_IDX},
	{132,	149,	PRV_AGC_MIN_IDX},
	{133,	150,	PRV_AGC_MIN_IDX},
	{134,	151,	PRV_AGC_MIN_IDX},
	{135,	152,	PRV_AGC_MIN_IDX},
	{136,	153,	PRV_AGC_MIN_IDX},
	{137,	154,	PRV_AGC_MIN_IDX},
	{138,	155,	PRV_AGC_MIN_IDX},
	{139,	156,	PRV_AGC_MIN_IDX},
	{140,	157,	PRV_AGC_MIN_IDX},
	{141,	158,	PRV_AGC_MIN_IDX},
	{142,	159,	PRV_AGC_MIN_IDX},
	{143,	160,	PRV_AGC_MIN_IDX},
	{144,	161,	PRV_AGC_MIN_IDX},
	{145,	162,	PRV_AGC_MIN_IDX},
	{146,	163,	PRV_AGC_MIN_IDX},
	{147,	164,	PRV_AGC_MIN_IDX},
	{148,	165,	PRV_AGC_MIN_IDX},
	{149,	166,	PRV_AGC_MIN_IDX},
	{150,	167,	PRV_AGC_MIN_IDX},
	{151,	168,	PRV_AGC_MIN_IDX},
	{152,	169,	PRV_AGC_MIN_IDX},
	{153,	170,	PRV_AGC_MIN_IDX},
	{154,	171,	PRV_AGC_MIN_IDX},
	{155,	172,	PRV_AGC_MIN_IDX},
	{156,	173,	PRV_AGC_MIN_IDX},
	{157,	174,	PRV_AGC_MIN_IDX},
	{158,	175,	PRV_AGC_MIN_IDX},
	{159,	176,	PRV_AGC_MIN_IDX},
	{160,	177,	PRV_AGC_MIN_IDX},
	{161,	178,	PRV_AGC_MIN_IDX},
	{162,	179,	PRV_AGC_MIN_IDX},
	{163,	180,	PRV_AGC_MIN_IDX},
	{164,	181,	PRV_AGC_MIN_IDX},
	{165,	182,	PRV_AGC_MIN_IDX},
	{166,	183,	PRV_AGC_MIN_IDX},
	{167,	184,	PRV_AGC_MIN_IDX},
	{168,	185,	PRV_AGC_MIN_IDX},
	{169,	186,	PRV_AGC_MIN_IDX},
	{170,	187,	PRV_AGC_MIN_IDX},
	{171,	188,	PRV_AGC_MIN_IDX},
	{172,	189,	PRV_AGC_MIN_IDX},
	{173,	190,	PRV_AGC_MIN_IDX},
	{174,	191,	PRV_AGC_MIN_IDX},
	{175,	192,	PRV_AGC_MIN_IDX},
	{176,	193,	PRV_AGC_MIN_IDX},
	{177,	194,	PRV_AGC_MIN_IDX},
	{178,	195,	PRV_AGC_MIN_IDX},
	{179,	196,	PRV_AGC_MIN_IDX},
	{180,	197,	PRV_AGC_MIN_IDX},
	{181,	198,	PRV_AGC_MIN_IDX},
	{182,	199,	PRV_AGC_MIN_IDX},
	{183,	200,	PRV_AGC_MIN_IDX},
	{184,	201,	PRV_AGC_MIN_IDX},
	{185,	202,	PRV_AGC_MIN_IDX},
	{186,	203,	PRV_AGC_MIN_IDX},
	{187,	204,	PRV_AGC_MIN_IDX},
	{188,	205,	PRV_AGC_MIN_IDX},
	{189,	206,	PRV_AGC_MIN_IDX},
	{190,	207,	PRV_AGC_MIN_IDX},
	{191,	208,	PRV_AGC_MIN_IDX},
	{192,	209,	PRV_AGC_MIN_IDX},
	{193,	210,	PRV_AGC_MIN_IDX},
	{194,	211,	PRV_AGC_MIN_IDX},
	{195,	212,	PRV_AGC_MIN_IDX},
	{196,	213,	PRV_AGC_MIN_IDX},
	{197,	214,	PRV_AGC_MIN_IDX},
	{198,	215,	PRV_AGC_MIN_IDX},
	{199,	216,	PRV_AGC_MIN_IDX},
	{200,	217,	PRV_AGC_MIN_IDX},
	{201,	218,	PRV_AGC_MIN_IDX},
	{202,	219,	PRV_AGC_MIN_IDX},
	{203,	220,	PRV_AGC_MIN_IDX},
	{204,	221,	PRV_AGC_MIN_IDX},
	{205,	222,	PRV_AGC_MIN_IDX},
	{206,	223,	PRV_AGC_MIN_IDX},
	{207,	224,	PRV_AGC_MIN_IDX},
	{208,	225,	PRV_AGC_MIN_IDX},
	{209,	226,	PRV_AGC_MIN_IDX},
	{210,	227,	PRV_AGC_MIN_IDX},
	{211,	228,	PRV_AGC_MIN_IDX},
	{212,	229,	PRV_AGC_MIN_IDX},
	{213,	230,	PRV_AGC_MIN_IDX},
	{214,	231,	PRV_AGC_MIN_IDX},
	{215,	232,	PRV_AGC_MIN_IDX},
	{216,	233,	PRV_AGC_MIN_IDX},
	{217,	234,	PRV_AGC_MIN_IDX},
	{218,	235,	PRV_AGC_MIN_IDX},
	{219,	236,	PRV_AGC_MIN_IDX},
	{220,	237,	PRV_AGC_MIN_IDX},
	{221,	238,	PRV_AGC_MIN_IDX},
	{222,	239,	PRV_AGC_MIN_IDX},
	{223,	240,	PRV_AGC_MIN_IDX},
	{224,	241,	PRV_AGC_MIN_IDX},
	{225,	242,	PRV_AGC_MIN_IDX},
	{226,	243,	PRV_AGC_MIN_IDX},
	{227,	244,	PRV_AGC_MIN_IDX},
};

UINT16 aeExpAgcEntry,aeExpAgcEntryB;

aeExpAgcIdx_t *paeIdx;
appFdResult_t Aefd;
/**************************************************************************
 *                 E X T E R N A L    R E F E R E N C E S                 *
 **************************************************************************/
static void _capturePASMSet(void);
void appExif_MN_BufClear(UINT8 bufID);
UINT32  appExif_MN_Printf(UINT8 bufID, const char *szFmt, ...);
void dbgOsd_Print(UINT32 row, const char *format, ...);
extern void awbCurAeInfoSet(UINT16* pInfo);
extern UINT16 aeCurContrastGet(	void);
extern UINT8 IsHDR,IsHDRNightScene;

/**************************************************************************
 *               F U N C T I O N    D E C L A R A T I O N S               *
 **************************************************************************/
SINT32 pv_apeidx_to_avidx(SINT32 apeidx)
{
	return (SINT32)(apeidx);
}

UINT8 svidx_to_aeIso_tblidx(SINT32 svidx)
{
	SINT32 sv10;
	UINT8	idx;

	sv10 = (svidx*10)/evUnit.evUnit;

	idx = 0;
	if (sv10 <= 40) { /*-- iso-50 */ return idx; }
	idx++;
	if (sv10 <= 50) { /*-- iso-100 */ return idx; }
	idx++;
	if (sv10 <= 60) { /*-- iso-200 */ return idx; }
	idx++;
	if (sv10 <= 70) { /*-- iso-400 */ return idx; }
	idx++;
	if (sv10 <= 80) { /*-- iso-800 */ return idx; }
	idx++;
	if (sv10 <= 90) { /*-- iso-1600 */ return idx; }

	/*-- out of aeIso[] */
	DBG_PRINT("!!! Out of scope of aeIso[] !! \n");
	idx = 0;
	return idx;
}

SINT32 pv_agcidx_to_svidx(SINT32 agcidx)
{
#ifdef DO_ISO_XSHIFT
	agcidx -= PV_ISO_XSHIFT;
#endif
	/*-- aeViewIsoOffSet = apex_iso_100-calib_iso_100 */
	return (SINT32)(agcidx+aeViewIsoOfs+evUnit.agcIdx0Unit);
}

SINT32 pv_svidx_to_agcidx(SINT32 svidx)
{
#ifdef DO_ISO_XSHIFT
	/*-- aeViewIsoOffSet = apex_iso_100-calib_iso_100 */
	SINT32 agcidx;
	agcidx = (svidx-aeViewIsoOfs-evUnit.agcIdx0Unit);
	agcidx += PV_ISO_XSHIFT;
	if (agcidx < agcLimitPv.agcIdxMin) 
	{
		agcidx = agcLimitPv.agcIdxMin;
	}
#else
	/*-- aeViewIsoOffSet = apex_iso_100-calib_iso_100 */
	SINT32 agcidx;
	agcidx = (svidx-aeViewIsoOfs-evUnit.agcIdx0Unit);
	if (agcidx < agcLimitPv.agcIdxMin) 
	{
		agcidx = agcLimitPv.agcIdxMin;
	}

	/*printf("pv_svidx_to_agcidx:%d,%d,%d,%d\n",agcidx,svidx,aeViewIsoOfs,evUnit.agcIdx0Unit);*/

#endif
	return agcidx;
}

SINT32 cap_agcidx_to_svidx(SINT32 agcidx)
{
#ifdef DO_ISO_XSHIFT
	agcidx -= CAP_ISO_XSHIFT;
#endif

	/*printf("cap_agcidx_to_svidx:%d,%d,%d,%d\n",agcidx,aeCapIsoOfs,evUnit.agcIdx0Unit);*/

	return (SINT32)(agcidx+aeCapIsoOfs+evUnit.agcIdx0Unit);
}

SINT32 cap_svidx_to_agcidx(SINT32 svidx)
{
#ifdef DO_CAP_SAT_GAIN_COMPENSATION
	/*--- captureminimum saturation gainA
	 * nCminimum sat. gainISOAHYun
	 * HvgainC
	 */
	svidx = (svidx < capSatGainSVIDX) ? capSatGainSVIDX : svidx;

#endif

#ifdef DO_ISO_XSHIFT
	svidx += CAP_ISO_XSHIFT;
#endif

	/*printf("cap_svidx_to_agcidx:%d,%d,%d,%d\n",svidx,aeCapIsoOfs,evUnit.agcIdx0Unit);*/

	return (SINT32)(svidx-aeCapIsoOfs-evUnit.agcIdx0Unit);
}

SINT32 cap_svidx_to_expidx_offset(SINT32 svidx)
{
	SINT32 offset=0;
#ifdef DO_CAP_SAT_GAIN_COMPENSATION
	/*--- captureminimum saturation gainA
	 * nCminimum sat. gainISOAHYun
	 * HvgainCTV += (this_offset)
	 */
	offset = (svidx < capSatGainSVIDX) ? (capSatGainSVIDX-svidx) : 0;
	printf_x("capSatGainSVIDX = %d, returning offset = %d \n", capSatGainSVIDX, offset);
#endif
	return offset;
}

SINT32 pv_expidx_to_tvidx(SINT32 expidx)
{
#ifdef DO_ISO_XSHIFT
	expidx -= PV_ISO_XSHIFT;
#endif

	return (SINT32)(expidx+evUnit.expIdx0Unit);
}

SINT32 pv_tvidx_to_expidx(SINT32 tvidx)
{
	return (SINT32)(tvidx-evUnit.expIdx0Unit);
}

SINT32 cap_tvidx_to_expidx(SINT32 tvidx)
{
	return (SINT32)(tvidx-evUnit.expIdx0Unit);
}

SINT32 cap_expidx_to_tvidx(SINT32 expidx)
{
	return (SINT32)(expidx+evUnit.expIdx0Unit);	
}

static SINT16 cap_tvidx_to_ui_shutter_idx(SINT32 tvidx)
{
	return ((tvidx-evUnit.expIdx0Unit)/evUnit.evUnit)+(SHUTTER_1S-SHUTTER_AUTO);
}

static __inline__ BOOL is_cap_exceed_longest_shutter(SINT32 expidx)
{
	return (expidx<capLongestShutter);
}

static __inline__ BOOL is_cap_exceed_shortest_shutter(SINT32 expidx)
{
	return (expidx>capShortestShutter);
}

static __inline__ void cap_set_shortest_shutter(SINT32 *expidx)
{
	*expidx = capShortestShutter;
}

static __inline__ void cap_set_longest_shutter(SINT32 *expidx)
{
	*expidx = capLongestShutter;
}

static __inline__ BOOL is_ae_not_yet_longest_Entry(SINT32 idxEntry)
{
	return (idxEntry>paeIdx[((aeFrameRateSel == 30)?AE_PV_30Fps_MIN_EXPAGC_ENTRY:((aeFrameRateSel == 60)?AE_PV_60Fps_MIN_EXPAGC_ENTRY:AE_PV_120Fps_MIN_EXPAGC_ENTRY))].idx); 
}

static __inline__ BOOL is_ae_exceed_longest_Entry(SINT32 idxEntry)
{
	return (idxEntry<paeIdx[((aeFrameRateSel == 30)?AE_PV_30Fps_MIN_EXPAGC_ENTRY:((aeFrameRateSel == 60)?AE_PV_60Fps_MIN_EXPAGC_ENTRY:AE_PV_120Fps_MIN_EXPAGC_ENTRY))].idx);
}

static __inline__ void ae_set_longest_Entry(SINT32 *idxEntry)
{
	*idxEntry = paeIdx[((aeFrameRateSel == 30)?AE_PV_30Fps_MIN_EXPAGC_ENTRY:((aeFrameRateSel == 60)?AE_PV_60Fps_MIN_EXPAGC_ENTRY:AE_PV_120Fps_MIN_EXPAGC_ENTRY))].idx;
}

static __inline__ BOOL is_ae_not_yet_shortest_Entry(SINT32 idxEntry)
{

	if (pViewParam->pvflickermode==1)
	{
		return (idxEntry<paeIdx[AE_PV_MAX_EXPAGC_ENTRY].idx);
	}
	else
	{
		return (idxEntry<paeIdx[AE_PV_MAX_EXPAGC_ENTRY].idx);
	}
}

static __inline__ BOOL is_ae_exceed_shortest_Entry(SINT32 idxEntry)
{
	if (pViewParam->pvflickermode==1)
	{
		return (idxEntry>paeIdx[AE_PV_MAX_EXPAGC_ENTRY].idx);
	}
	else
	{
		return (idxEntry>paeIdx[AE_PV_MAX_EXPAGC_ENTRY].idx);
	}
}

static __inline__ void ae_set_shortest_Entry(SINT32 *idxEntry)
{
	if (pViewParam->pvflickermode==1)
	{
		*idxEntry = paeIdx[AE_PV_MAX_EXPAGC_ENTRY].idx;
	}
	else
	{
		*idxEntry = paeIdx[AE_PV_MAX_EXPAGC_ENTRY].idx;
	}
}

/**************************************************************************
 *               F U N C T I O N    D E C L A R A T I O N S               *
 **************************************************************************/
SINT32 appPreviewAeBvIdxGet(void)
{
	SINT32 retBV;

	/*-- BV = LV -5 (APEX) */
	//printf("\033[28mcapsetA :lvidx=%d step = %d \033[0m\n",aeCbA.lvidx ,aeCbA.aeStep);
	retBV = (aeCbA.lvidx - 5*evUnit.evUnit);

	return retBV;
}

static SINT32 appPreviewAeBvIdxGetB(void)
{
	SINT32 retBV;

	/*-- BV = LV -5 (APEX) */
	//printf("\033[28mcapsetB :lvidx=%d step = %d \033[0m\n",aeCbB.lvidx ,aeCbB.aeStep);	    
    retBV = (aeCbB.lvidx - 5*evUnit.evUnit);
    
	return retBV;
}

appAeCb_t *appAeCbGet(void)    
{    
    if(sel==SENSOR_PRI) //sensor a
    	return &aeCbA;
    else if(sel==SENSOR_SEC)
        return &aeCbB;
}

appAePara_t *appAeParaGet(void)
{
	return &aePara;
}

UINT16 appAeLumaGet(void)
{
	return aeCbA.luma;
}

void appAeStableSet(void)
{
	aeCbA.stable = aeCbB.stable = TRUE;
}

UINT8 appAeStableGet(void)
{
  
    if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH))
    {
        if((aeCbA.stable==1) && (aeCbB.stable==1))
            return 1;
        else
            return 0;
    }
    else
    {
        if(aeCbA.stable==1)
    	    return 1;
        else
            return 0;
    }
}

void appAeStableReset(void)
{
	aeCbA.stable = aeCbB.stable = FALSE;
}

UINT16 appAeTargetGet(void)
{
	return (UINT16)aeCbA.target;
}

void appAeTargetSet(UINT8 target)
{
	aeCbA.target = aeCbB.target = target;
	sp5kAeParamSet(SP5K_AE_TARGET_LUMA, (UINT32)aeCbA.target);
}

appAeSet_t *appAeSetGet(void)
{
	return (appAeSet_t *)&aeCbA.aeset;
}

SINT32 appAeMinCapGainGet(void)
{
	return capSatAgc;
}

void
appAeCapParaGet(
	SINT16 *piris,
	SINT16 *pshutter,
	SINT16 *piso
)
{
	*piris = aePara.ui_iris+APERTURE_2_8;
	*pshutter = cap_tvidx_to_ui_shutter_idx(aePara.cap_tv);
	*piso = aePara.ui_iso+UI_ISO_50;

	printf_t("@@@@@@@@@@@@@@\n");
	printf_t("appAeCapParaGet\n");
	printf_t("iris = %d shutter = %d iso = %d \n",*piris,*pshutter,*piso);
}

void
appAeAgcObSet(
	UINT32 agcidx
)
{
}

void
appAeZoomLevelSet(
	UINT32 zml
)
{
	if(zml < AE_ZOOM_LEVEL_MAX)
	{
		aeCbA.zml = aeCbB.zml = zml;
	}
}

void
appAeCapShutterSet(
	UINT8 shutidx
)
{
	if(shutidx < SHUTTER_MAX)
	{
		aeCbA.aeset.shutter = aeCbB.aeset.shutter = shutidx;
	}
}

void
appAeCapIsoSet(
	UINT8 isoidx
)
{
	printf("@@@@@@@@@@@@@@@@@@@@@\n");
	printf("aeCapIsoSet: %d \n", isoidx);


	if (isoidx >= UI_ISO_MAX) 
	{
		printf_t("... invalid ISO requested \n");
		return;
	}

	aeCbA.aeset.iso = aeCbB.aeset.iso = isoidx;

	if (isoidx==UI_ISO_AUTO) 
	{
		capMaxGain = cap_svidx_to_agcidx(AGC_CAP_BOUNDARY_H);
		aeCbA.cap_max_isoidx = aeCbB.cap_max_isoidx = svidx_to_aeIso_tblidx(AGC_CAP_BOUNDARY_H); // the index to aeIso[] !!
		return;
	}

	/*-- The following implementation would depend upon PRJ preferrence !
	 */
	capMaxGain = cap_svidx_to_agcidx(aeIso[isoidx-1]);
	aeCbA.cap_max_isoidx = aeCbB.cap_max_isoidx = isoidx-1; // the index to aeIso[] !!
}

UINT32 appAeIrisSet(UINT8 irisStop)
{
	return SUCCESS;
}

void
appAeCapIrisSet(
	UINT8 irisidx
)
{
	if( irisidx < APERTURE_MAX)
	{
		aeCbA.aeset.iris = aeCbB.aeset.iris = irisidx;
		if(irisidx == APERTURE_AUTO)
		{
			appAeIrisSet(APERTURE_2_8-1);
		}
		else
		{
			appAeIrisSet(irisidx-1);
		}
	}
}

void
appAeMeterSet(
	UINT8 bMeter
)
{
	if(bMeter < UI_METER_MAX)
	{
		aeCbA.aeset.meter = aeCbB.aeset.meter = bMeter;
		appAEALG_ParamSet(AE_PARA_METERINGSET, bMeter);
	}

}

void
appAeEvBiasSet(
	UINT8 bEvBias
)
{
	if(bEvBias< AE_BIAS_MAX)
	{
		aeCbA.aeset.evbias = aeCbB.aeset.evbias = bEvBias;
    	appAEALG_ParamSet(AE_PARA_EVSET, aebiascmp[bEvBias]);
	}

}

void
appAeAebSet(
	UINT8 aeb
)
{
	printf("\033[32mAEB(%d)\033[0m\n",aeb);
	if(aeb < UI_AEB_MAX)
	{
		aeCbA.aeset.aeb = aeCbB.aeset.aeb = aeb;
	}

}

void
appAeStabilizerSet(
	UINT8 stabilizer
)
{
	#ifdef HW_DIST
	if(stabilizer < UI_STABILIZER_MAX)
	{
		aeCbA.aeset.dist = aeCbB.aeset.dist = stabilizer;
	}
	#else
	if(stabilizer < UI_STABILIZER_MAX)
	{
		aeCbA.aeset.stabilizer = aeCbB.aeset.stabilizer = stabilizer;
	}
	#endif
}

void
appAeDistStatusGet(
	UINT8 *dist
)
{
	#ifdef HW_DIST
	*dist=aeCbA.aeset.dist;
	#else
	*dist=UI_STABILIZER_OFF;
	#endif

}

void
appAePreviewShutBoundarySet(
	UINT8 pasmv,UINT32 shH, UINT32 shL)
{
	printf("_AePvShBdSet: pasmv=%d, shH=%d, shL=%d\n", pasmv,shH,shL);

	// shH, shL: 0 is auto
	aeCbA.aeset.pasm = aeCbB.aeset.pasm = pasmv;
	if(aeCbA.aeset.pasm == VIDEO_MODE)
	{ //video  :  1/32 ~ 1/512
		aeShortestShutter = aeshut[shH-1];
		aeLongestShutter = aeshut[shL-1];
	}
	else
	{ //PASM   :  1/32 ~ 1/3000~
		aeShortestShutter = aeshut[shH-1];
		aeLongestShutter = aeshut[shL-1];
	}
}

void
appAePreviewIsoBoundarySet(
	UINT8 pasmv,UINT32 max, UINT32 min)
{
	// shH, shL: 0 is auto
	aeCbA.aeset.pasm = aeCbB.aeset.pasm = pasmv;
	if(aeCbA.aeset.pasm == VIDEO_MODE)
	{
		aeMinGain = pv_svidx_to_agcidx(min);
		aeMaxGain = pv_svidx_to_agcidx(max);
	}
	else
	{
		aeMinGain = pv_svidx_to_agcidx(min);
		aeMaxGain = pv_svidx_to_agcidx(max);
	}

}

void appAeFrameRateSet(UINT32 fps)
{
	UINT32 chgFrmRate;
	chgFrmRate = (aeFrameRateSel == fps)?0:1;
	
	if(fps == 60){
		aeFrameRateSel = 60;
		YPrintf("60FPS");
	}
	else if(fps == 30){
		aeFrameRateSel = 30;
		YPrintf("30FPS");
	}
	else if(fps == 90){
		aeFrameRateSel = 90;
		YPrintf("90FPS");
	}
	else{
		aeFrameRateSel = 120;
		YPrintf("120FPS");
	}
	if(chgFrmRate){
		appAeExpFlickerModeSet(aeFlickerSel);
		appAePvReset();
	}
}

void
appAeExpFlickerModeSet(
	UINT8 flickeridx
)
{
	aeFlickerSel = flickeridx;
	
	if(aeFrameRateSel == 60){
		if(flickeridx == 0){	/*50Hz*/
			paeIdx =  ae60Fps50HzExpAgcSet;
			printf("60FPS_50Hz\n");
		}
		else{	/*60Hz*/
			paeIdx =  ae60Fps60HzExpAgcSet;
			printf("60FPS_60Hz\n");
		}
	}
	else if(aeFrameRateSel == 30){
		if(flickeridx == 0){	/*50Hz*/
			paeIdx =  ae30Fps50HzExpAgcSet;
			printf("30FPS_50Hz\n");
		}
		else{	/*60Hz*/
			paeIdx =  ae30Fps60HzExpAgcSet;
			printf("30FPS_60Hz\n");
		}
	}
	else{
		if(flickeridx == 0){	/*50Hz*/
			paeIdx =  ae120Fps50HzExpAgcSet;
			printf("120FPS_50Hz\n");
		}
		else{	/*60Hz*/
			paeIdx =  ae120Fps60HzExpAgcSet;
			printf("120FPS_60Hz\n");
		}
	}

	if(flickeridx == 0){
		pAeCapFlikrShut = ae50HzCapFlickerShut;
	}
	else{
		pAeCapFlikrShut = ae60HzCapFlickerShut;
	}

	appAeAlgFlickerModeSet(paeIdx);
}

void
appAePvReset(
	void
)
{
    //sensor A
	nextEntry = aeExpAgcEntry;	
	if(is_ae_exceed_longest_Entry(nextEntry)){
		ae_set_longest_Entry(&nextEntry);
	}	
	nextexp = pv_tvidx_to_expidx(paeIdx[nextEntry].expidx);
	nextagc = pv_svidx_to_agcidx(paeIdx[nextEntry].agcidx);
	aeExpAgcEntry = nextEntry;

    //sensor B
    if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH))
    {
    	nextEntryB = aeExpAgcEntryB;	
    	if(is_ae_exceed_longest_Entry(nextEntryB)){
    		ae_set_longest_Entry(&nextEntryB);
    	}	
    	nextexpB = pv_tvidx_to_expidx(paeIdx[nextEntryB].expidx);
    	nextagcB = pv_svidx_to_agcidx(paeIdx[nextEntryB].agcidx);
    	aeExpAgcEntryB = nextEntryB;
        
        sp5kPreviewDualSelSet(SENSOR_COMB);
    	sp5kPreviewExpAgcSet(nextexpB, nextagcB);
    	appAeAlgPreviewReset(SENSOR_SEC, nextexpB, nextagcB);
    }    
    
    sp5kPreviewDualSelSet(SENSOR_COMA);    
	sp5kPreviewExpAgcSet(nextexp, nextagc);
	appAeAlgPreviewReset(SENSOR_PRI, nextexp, nextagc);
}

void appAePvAutoExpTblSet(UINT8 idx_start, UINT8 step , UINT8 dir)
{
	
}

void appAePvAutoExpTblSingleSet(UINT8 idx)
{

}

void appAePvAutoExpTblCurrIdxGet(void)
{

}

void appAePvAutoExpTblSwapSet(UINT8 idx1, UINT8 idx2, UINT8 times)
{

}

void appAePreviewShutBoundaryGet(
	UINT32 *pmax, UINT32 *pmin
)
{
	*pmax = aeShortestShutter;
	*pmin = aeLongestShutter;
}

void
appAeCapShutBoundarySet(
	UINT8 scene, UINT32 shH, UINT32 shL)
{
	printf("_AeCapShBdSet: scene=%d, shH=%d, shL=%d\n", scene,shH,shL);
	// shH, shL: 0 is auto
	if(aeCbA.aeset.pasm==SCENE_MODE && scene<SCENE_MAX)
	{
		aeCbA.aeset.scene = aeCbB.aeset.scene = scene;
	}
	capShortestShutter = aeshut[shH-1];
	capLongestShutter = aeshut[shL-1];

}

void
appAeCapShutBoundaryGet(
	UINT32* shH, UINT32* shL)
{
	*shH = capShortestShutter;
	*shL = capLongestShutter;
}

void appAePreviewSet(void)
{
	SINT32 expidx;
	UINT32 agcidx;

    sp5kPreviewDualSelSet(SENSOR_COMA);    
	sp5kPreviewExpAgcGet(&expidx, &agcidx);
    sp5kPreviewExpAgcSet(expidx, agcidx);
        
    if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH))
    {        
        sp5kPreviewDualSelSet(SENSOR_COMB);
    	sp5kPreviewExpAgcGet(&expidx, &agcidx);
    	sp5kPreviewExpAgcSet(expidx, agcidx);
    }

}

void appAePreviewRestore(void)
{
   	fAeLock = 0;     
}

void appAeViewIsoCalibSet(SINT16 iso100)
{
	if (iso100 < pvSatAgc) 
	{
		printf("\n\nWARNING : pvIso(%d) < pvSatAgc(%d) !!!!\n\n", iso100, pvSatAgc);
	}
	aeViewIsoOfs = STD_ISO_100-(iso100);
		// used to calculate APEX LV
}

void appAeCaptureIsoCalibSet(SINT16 iso100)
{
	/*-- Handling minimum saturation gain */
	if (iso100 < capSatAgc) 
	{
		printf("\n\nWARNING : capIso(%d) < MIN_CAP_GAIN(%d) !!!!\n\n", iso100, capSatAgc);
	}
	aeCapIsoOfs = STD_ISO_100 - iso100;

	capSatGainSVIDX = cap_agcidx_to_svidx(capSatAgc);
}

void
appAeInfo(
	void
)
{
	char buf[32];
	sprintf(buf,"L=%03d A=%02d T=%02d S=%02d B=%02d ",aeCbA.lvidx, aeCbA.avidx,aeCbA.expidx,aeCbA.agcidx,appPreviewAeBvIdxGet());
	appOsdLib_TextDraw(0,32,SP5K_GFX_ALIGN_TOP_LEFT,buf);
}

static void _aeInitReport(void)
{

}

/*-------------------------------------------------------------------------
 *  File Name : appAeConvergedCBRegister
 *------------------------------------------------------------------------*/
void appAeConvergedCBRegister(appAeCBF_t paeCBF)
{

}

/*-------------------------------------------------------------------------
 *  File Name : appAeConvergedCBSet
 *------------------------------------------------------------------------*/
void appAeConvergedCBSet(SINT32 expidx,SINT32 agcidx)
{

}

/*-------------------------------------------------------------------------
 * Function : appAeInit
 *------------------------------------------------------------------------*/
void appAeInit(void)
{
	appCalibData_t *pCalib;
	memset(&aeCbA, 0, sizeof(appAeCb_t));
    memset(&aeCbB, 0, sizeof(appAeCb_t));
	memset(&aePara, 0, sizeof(appAePara_t));
	sp5kAeModeSet(SP5K_AE_MODE_INFO_ONLY);
	sp5kAeEvUnitGet(&evUnit);
    printf("appAeInit-----------------------------------------\n");
    
    #if !SP5K_ALGORITHM_AE
    printf("error dual ae need SP5K_ALGORITHM_AE\n");
    return;
    #endif
    
	/*-- Apply OB */
	pCalib = appCalibDataGet();
	appAeAgcObSet(DEFAULT_AGC);

	/*-- Apply ISO Calib result */
	capSatAgc = (pCalib->capSatGainSign) ? pCalib->capSatGain : DEFAULT_SAT_AGCIDX;
	aeCbA.pviso = aeCbB.pviso = (pCalib->IsoSign && pCalib->PvIso)? pCalib->PvIso : DEFAULT_VIEW_ISO100; 
	appAeViewIsoCalibSet(aeCbA.pviso);
    
	aeCbA.capiso = aeCbB.capiso = (pCalib->IsoSign && pCalib->CapIso) ? pCalib->CapIso : DEFAULT_CAP_ISO100; 
	appAeCaptureIsoCalibSet(aeCbA.capiso);

	/*-- Revise IRIS apeidx */
	aeIris[1] = (pCalib->irisDiff) ? (aeIris[0]+pCalib->irisDiff) : aeIris[1];

	/*-- Re-calculate MIN/MAX gain according to calibration result */
	sp5kAeExpLimitGet(SP5K_SENSOR_MODE_PREVIEW, &expLimitPv);
	sp5kAeAgcLimitGet(SP5K_SENSOR_MODE_PREVIEW, &agcLimitPv);
	sp5kAeExpLimitGet(SP5K_SENSOR_MODE_SNAP, &expLimitCap);
	sp5kAeAgcLimitGet(SP5K_SENSOR_MODE_SNAP, &agcLimitCap);

	aeMinGain = pv_svidx_to_agcidx(AGC_BOUNDARY_L);
	aeMaxGain = pv_svidx_to_agcidx(AGC_BOUNDARY_H);

	capMinGain = cap_svidx_to_agcidx(AGC_CAP_BOUNDARY_L);
	capMaxGain = cap_svidx_to_agcidx(AGC_CAP_BOUNDARY_H);
	aeCbA.cap_max_isoidx = svidx_to_aeIso_tblidx(AGC_CAP_BOUNDARY_H);
    aeCbB.cap_max_isoidx = svidx_to_aeIso_tblidx(AGC_CAP_BOUNDARY_H);
    
	/*printf("aeCbA.cap_max_isoidx :%d\n",aeCbA.cap_max_isoidx);*/

	if (aeMinGain<agcLimitPv.agcIdxMin || capMinGain<agcLimitCap.agcIdxMin)
	{
		printf("MIN Gain idx error \n");
		_aeInitReport();
	}

	sp5kAeCfgSet(SP5K_AE_CONTINOUS_ENABLE,1); 
    sp5kAeCfgSet(SP5K_AE_ACCUM_PERIOD,1); 
    
	aeCbA.target = aeCbB.target = AE_TARGET;
	aeCbA.zml = aeCbB.zml = 0;
	aeCbA.stable = aeCbB.stable = FALSE;
	aeCbA.mode = aeCbB.mode =1;
	aeCbA.iris_stop = aeCbB.iris_stop = (appLensQuery(LENS_QUERY_IRIS_SEG_POS)==0) ? 0 : 1;
	aeCbA.avidx = aeCbB.avidx = aeIris[aeCbA.iris_stop];
    appAeExpFlickerModeSet(pUiSetting->lightFrequency);
	  
	aeCbA.expidx = aeCbB.expidx = pv_tvidx_to_expidx(paeIdx[DEFAULT_EXPAGC_ENTRY].expidx);
	aeCbA.agcidx = aeCbB.agcidx = pv_svidx_to_agcidx(paeIdx[DEFAULT_EXPAGC_ENTRY].agcidx);
	aeExpAgcEntry= aeExpAgcEntryB = paeIdx[DEFAULT_EXPAGC_ENTRY].idx;
	nextEntry = nextEntryB = aeExpAgcEntry;

    sp5kPreviewDualSelSet(SENSOR_COMA);    
	sp5kPreviewExpAgcSet((SINT32)aeCbA.expidx, (UINT32)aeCbA.agcidx);

    if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH))
    {
        sp5kPreviewDualSelSet(SENSOR_COMB);
    	sp5kPreviewExpAgcSet((SINT32)aeCbB.expidx, (UINT32)aeCbB.agcidx);
    }
    
	sp5kAeApertureDeclare(aeCbA.avidx);
	sp5kAeParamSet(SP5K_AE_TARGET_LUMA, (UINT32)aeCbA.target);
    
    app_DIQ_DynIso_Set();	
}
    
/*-------------------------------------------------------------------------
 * Function : _aeTooDarkAdjust
 *------------------------------------------------------------------------*/
static void _aeTooDarkAdjust(void)
{
	aeCbA.stable = FALSE;

	 if (is_ae_not_yet_longest_Entry(aeExpAgcEntry))
	 {
		nextEntry += step;
		if (is_ae_exceed_longest_Entry(nextEntry))
		{
			ae_set_longest_Entry(&nextEntry);
		}
		nextexp = pv_tvidx_to_expidx(paeIdx[nextEntry].expidx);
		nextagc = pv_svidx_to_agcidx(paeIdx[nextEntry].agcidx);
		aeExpAgcEntry = nextEntry;
		
		#if 0
		printf("\033[33mDark\033[0m\n");
		printf("aeExpAgcEntry:%d\n",aeExpAgcEntry);
		printf("nextEntry:%d\n",nextEntry);
		printf("nextexp:%d\n",nextexp);
		printf("nextagc :%d\n",nextagc);
		printf("nextexp A:%d\n",paeIdx[nextEntry].expidx);
		printf("nextagc  A:%d\n",paeIdx[nextEntry].agcidx);
		#endif    
	 }
}

static void _aeTooDarkAdjustB(void)
{
	aeCbB.stable = FALSE;

	 if (is_ae_not_yet_longest_Entry(aeExpAgcEntryB))
	 {
		nextEntryB += stepB;
		if (is_ae_exceed_longest_Entry(nextEntryB))
		{
			ae_set_longest_Entry(&nextEntryB);
		}
		nextexpB = pv_tvidx_to_expidx(paeIdx[nextEntryB].expidx);
		nextagcB = pv_svidx_to_agcidx(paeIdx[nextEntryB].agcidx);
		aeExpAgcEntryB = nextEntryB;
		
		#if 0
		printf("\033[33mDark\033[0m\n");
		printf("aeExpAgcEntryB:%d\n",aeExpAgcEntryB);
		printf("nextEntryB:%d\n",nextEntryB);
		printf("nextexpB:%d\n",nextexpB);
		printf("nextagcB :%d\n",nextagcB);
		printf("nextexpB A:%d\n",paeIdx[nextEntryB].expidx);
		printf("nextagcB A:%d\n",paeIdx[nextEntryB].agcidx);
		#endif    
	 }
}

/*-------------------------------------------------------------------------
 * Function : _aeTooBrightAdjust
 *------------------------------------------------------------------------*/
static void _aeTooBrightAdjust(void)
{
	aeCbA.stable = FALSE;

	 if (is_ae_not_yet_shortest_Entry(aeExpAgcEntry))
	 {
		nextEntry += step;
		if (is_ae_exceed_shortest_Entry(nextEntry))
		{
			ae_set_shortest_Entry(&nextEntry);
		}
		nextexp = pv_tvidx_to_expidx(paeIdx[nextEntry].expidx); ;
		nextagc = pv_svidx_to_agcidx(paeIdx[nextEntry].agcidx);
		aeExpAgcEntry = nextEntry;
        
		#if 0
		printf("\033[33mBright\033[0m\n");
		printf("aeExpAgcEntry:%d\n",aeExpAgcEntry);
		printf("nextEntry:%d\n",nextEntry);
		printf("nextexp:%d\n",nextexp);
		printf("nextagc :%d\n",nextagc);
		printf("nextexp A:%d\n",paeIdx[nextEntry].expidx);
		printf("nextagc  A:%d\n",paeIdx[nextEntry].agcidx);
		#endif
	 }
}

static void _aeTooBrightAdjustB(void)
{
	aeCbB.stable = FALSE;

	 if (is_ae_not_yet_shortest_Entry(aeExpAgcEntryB))
	 {
		nextEntryB += stepB;
		if (is_ae_exceed_shortest_Entry(nextEntryB))
		{
			ae_set_shortest_Entry(&nextEntryB);
		}
		nextexpB = pv_tvidx_to_expidx(paeIdx[nextEntryB].expidx); ;
		nextagcB = pv_svidx_to_agcidx(paeIdx[nextEntryB].agcidx);
		aeExpAgcEntryB = nextEntryB;
        
		#if 0
		printf("\033[33mBright\033[0m\n");
		printf("aeExpAgcEntryB:%d\n",aeExpAgcEntryB);
		printf("nextEntryB:%d\n",nextEntryB);
		printf("nextexpB:%d\n",nextexpB);
		printf("nextagcB :%d\n",nextagcB);
		printf("nextexpB A:%d\n",paeIdx[nextEntryB].expidx);
		printf("nextagcB A:%d\n",paeIdx[nextEntryB].agcidx);
		#endif
	 }
}
/*-------------------------------------------------------------------------
 * Function : appAeFlickAdjust
 *------------------------------------------------------------------------*/
#if AE_FLICK_EN
UINT32
appAeFlickAdjustA(
	UINT32 param
)
{
    UINT16 max, min, max_cnt, min_cnt;
    max_cnt = MAX(dbgTooBrightCntA,dbgTooDarkCntA);
    min_cnt = MIN(dbgTooBrightCntA,dbgTooDarkCntA);    
    
    switch(param)
    {
        case (AE_TOO_BRIGHT|AE_FLICK_STEP0):
            max = MAX(ABS(step),ABS(rec_dstepA));
            min = MIN(ABS(step),ABS(rec_dstepA));
            
            if(dbgTooDarkCntA==0 && step!=rec_dstepA) //record step
            {
                rec_dstepA = step;
                dbgTooDarkCntA++;
                //printf("rec rec_dstep e %d %d\n",rec_dstep ,step);
            }
            else if((max-min)>AE_FLICK_STEP_RANGE)  //compare step:true->record step 
            {
                dbgTooDarkCntA = dbgTooBrightCntA =0;
                //printf("reset rec_dstep s %d %d \n ",max ,min);
            }
        break;

        case (AE_TOO_BRIGHT|AE_FLICK_STEP1):

            //printf("<lester>AE_TOO_BRIGHT BCnt= %d \n",dbgTooBrightCntA);
            //printf("<lester>AE_TOO_BRIGHT DCnt= %d \n",dbgTooDarkCntA);
            if(dbgTooDarkCntA>AE_FLICK_COUNT && dbgTooBrightCntA>AE_FLICK_COUNT)
            {
                //printf("b dont cagnge step=%d\n",step);
        		return SUCCESS;
            }
            else if(dbgTooDarkCntA>=1 && (max_cnt-min_cnt)==1)   //rec rec_dstep each other
                dbgTooDarkCntA++;
            else if(dbgTooDarkCntA>=2)
                dbgTooDarkCntA++;
            else
                dbgTooDarkCntA = dbgTooBrightCntA =0;
        break;

        case (AE_TOO_DARK|AE_FLICK_STEP0):

            max = MAX(ABS(step),ABS(rec_bstepA));
            min = MIN(ABS(step),ABS(rec_bstepA));

            if(dbgTooBrightCntA==0 && step!=rec_bstepA)   //record step
            {
                 rec_bstepA = step;
                 dbgTooBrightCntA++;
                 //printf("rec rec_bstep e %d %d\n",rec_bstep ,step);
            }
            else if((max-min)>AE_FLICK_STEP_RANGE) //compare step:true->record step 
            {                
                dbgTooBrightCntA = dbgTooDarkCntA = 0;          
                //printf("reset rec_bstep s %d %d\n",max ,min);
            }
        break;

        case (AE_TOO_DARK|AE_FLICK_STEP1):

            //printf("<lester>AE_TOO_DARK BCnt= %d \n",dbgTooBrightCntA);
            //printf("<lester>AE_TOO_DARK DCnt= %d \n",dbgTooDarkCntA);
            if(dbgTooDarkCntA>AE_FLICK_COUNT && dbgTooBrightCntA>AE_FLICK_COUNT)
            {
                //printf("d dont cagnge step=%d\n",step);
        		return SUCCESS;                
            }
            else if(dbgTooBrightCntA>=1 && (max_cnt-min_cnt)==1) //rec rec_dstep each other
                dbgTooBrightCntA++;
            else if(dbgTooBrightCntA>=2)
                dbgTooBrightCntA++;
            else
                dbgTooDarkCntA = dbgTooBrightCntA =0;
        break;
    }
    return FAIL;
}

UINT32
appAeFlickAdjustB(
	UINT32 param
)
{
    UINT16 max, min, max_cnt, min_cnt;
    max_cnt = MAX(dbgTooBrightCntB,dbgTooDarkCntB);
    min_cnt = MIN(dbgTooBrightCntB,dbgTooDarkCntB);    
    
    switch(param)
    {
        case (AE_TOO_BRIGHT|AE_FLICK_STEP0):
            max = MAX(ABS(stepB),ABS(rec_dstepB));
            min = MIN(ABS(stepB),ABS(rec_dstepB));
            
            if(dbgTooDarkCntB==0 && stepB!=rec_dstepB) //record step
            {
                rec_dstepB = stepB;
                dbgTooDarkCntB++;
                //printf("rec rec_dstep e %d %d\n",rec_dstep ,step);
            }
            else if((max-min)>AE_FLICK_STEP_RANGE)  //compare step:true->record step 
            {
                dbgTooDarkCntB = dbgTooBrightCntB =0;
                //printf("reset rec_dstep s %d %d \n ",max ,min);
            }
        break;

        case (AE_TOO_BRIGHT|AE_FLICK_STEP1):

            //printf("<lester>AE_TOO_BRIGHT BCnt= %d \n",dbgTooBrightCntB);
            //printf("<lester>AE_TOO_BRIGHT DCnt= %d \n",dbgTooDarkCntB);
            if(dbgTooDarkCntB>AE_FLICK_COUNT && dbgTooBrightCntB>AE_FLICK_COUNT)
            {
                //printf("b dont cagnge step=%d\n",step);
        		return SUCCESS;
            }
            else if(dbgTooDarkCntB>=1 && (max_cnt-min_cnt)==1)   //rec rec_dstep each other
                dbgTooDarkCntB++;
            else if(dbgTooDarkCntB>=2)
                dbgTooDarkCntB++;
            else
                dbgTooDarkCntB = dbgTooBrightCntB =0;
        break;

        case (AE_TOO_DARK|AE_FLICK_STEP0):

            max = MAX(ABS(stepB),ABS(rec_bstepB));
            min = MIN(ABS(stepB),ABS(rec_bstepB));

            if(dbgTooBrightCntB==0 && step!=rec_bstepB)   //record step
            {
                 rec_bstepB = stepB;
                 dbgTooBrightCntB++;
                 //printf("rec rec_bstep e %d %d\n",rec_bstep ,step);
            }
            else if((max-min)>AE_FLICK_STEP_RANGE) //compare step:true->record step 
            {                
                dbgTooBrightCntB = dbgTooDarkCntB = 0;          
                //printf("reset rec_bstep s %d %d\n",max ,min);
            }
        break;

        case (AE_TOO_DARK|AE_FLICK_STEP1):

            //printf("<lester>AE_TOO_DARK BCnt= %d \n",dbgTooBrightCntB);
            //printf("<lester>AE_TOO_DARK DCnt= %d \n",dbgTooDarkCntB);
            if(dbgTooDarkCntB>AE_FLICK_COUNT && dbgTooBrightCntB>AE_FLICK_COUNT)
            {
                //printf("d dont cagnge step=%d\n",step);
        		return SUCCESS;                
            }
            else if(dbgTooBrightCntB>=1 && (max_cnt-min_cnt)==1) //rec rec_dstep each other
                dbgTooBrightCntB++;
            else if(dbgTooBrightCntB>=2)
                dbgTooBrightCntB++;
            else
                dbgTooDarkCntB = dbgTooBrightCntB =0;
        break;
    }
    return FAIL;
}
#endif

static void Ae_dual_mode_switch(void)
{

    if((bef_dual_mode!=appAeDualModeGet()) && (freeze_cnt==0))
    {         
        freeze_cnt = AE_FREEZE_COUNT;                   
        if(appAeDualModeGet()==SENSOR_PRI) //change status
        {         
            if(bef_dual_mode==SENSOR_SEC)
            {
                aeExpAgcEntryB = aeExpAgcEntry;                   
                aeExpAgcEntry = tmpEntry;         
                aeExpAgcEntry = aeExpAgcEntryB;
            }

            if(bef_dual_mode==SENSOR_BOTH)
            {
                tmpEntry = aeExpAgcEntryB;
            }        
        }
        else if(appAeDualModeGet()==SENSOR_SEC)
        {
            if(bef_dual_mode==SENSOR_PRI || bef_dual_mode==SENSOR_BOTH)
            {          
                tmpEntry = aeExpAgcEntry;                                        
                aeExpAgcEntry = aeExpAgcEntryB;      
            }                                    
        }
        else if(appAeDualModeGet()==SENSOR_BOTH)
        {   
            if(bef_dual_mode==SENSOR_PRI)
            {
                aeExpAgcEntryB = tmpEntry;
            }            

            if(bef_dual_mode==SENSOR_SEC)
            {               
                aeExpAgcEntryB = aeExpAgcEntry;
                aeExpAgcEntry = tmpEntry;
                tmpEntry = aeExpAgcEntryB;
            }            

            if(bef_dual_mode==SENSOR_BOTH)
            {
                tmpEntry = aeExpAgcEntryB;
            }             
        }
    }//end bef_dual_mode!=appAeDualModeGet() 
 
    if(bef_dual_mode!=appAeDualModeGet())
    {        
        Convcount = rec_dstepA = rec_bstepA = dbgTooBrightCntA = dbgTooDarkCntA= 0; 
        ConvcountB = rec_dstepB = rec_bstepB = dbgTooBrightCntB = dbgTooDarkCntB= 0;               
        //sp5kDispDevAttrSet(SP5K_DISP_PREVIEW_FREEZE, 1, 0, 0, 0);  

        if(freeze_cnt>1)
        {
            sp5kSensorVvalidWait();         
            sp5kSensorVvalidWait();              
            freeze_cnt--;
            //printf("<lester> preview freeze %d \n",freeze_cnt);  
        }
        else
        {
            freeze_cnt = 0;
            bef_dual_mode = appAeDualModeGet();   
            sp5kDispDevAttrSet(SP5K_DISP_PREVIEW_FREEZE, 0, 0, 0, 0); 
            printf("<lester> preview freeze off\n");   
        }
    }
}
/*-------------------------------------------------------------------------
 * Function : appAePreviewAdjust
 *------------------------------------------------------------------------*/
UINT32
appAePreviewAdjust(
	UINT32 param
)
{
	aeResult_t aeResult;    
	SINT32 ret;
	static SINT32 lastExp=0xffffffff;
	static UINT32 lastAgc=0xffffffff;
	static SINT8 lastStep=0xff;
    /*s Add by Aries 09/07/27*/
	UINT16 awbAeInfo[10];
    UINT8 converge_state;

    Ae_dual_mode_switch();
        
	ret = appAEALGLib_ResultGet(param,&aeResult);

	if (ret != SUCCESS ||	!(aeResult.valid & AAA_INFO_RESULT_AE_VALID)) 
	{
		printf("ae result invalid(%d)\n",ret);
		return FAIL;
	}

	if (fAeEnable==0 || fAeLock==1)
	{
		//printf("AE Locked A %d exp=%d %d agc=%d !!!\n",fAeEnable ,(SINT32)aeResult.evInfo.expIdx ,(SINT32)aeResult.evInfo.exp2Idx , (SINT32)aeResult.evInfo.agcIdx);
		return SUCCESS;
	}
    
	aeCbA.frameid = param;
	aeCbA.aeStep = step = (SINT32)aeResult.aeStep;	
    //profLogPrintf(2, "frm:%d, %d, %d, %d(%d)", param, aeResult.evInfo.expIdx, aeResult.evInfo.agcIdx, aeResult.evInfo.aperIdx, step);
    
	/*-- Retrieve aeResult parameters
	 */
	 /*Work around for don't why aeResult.evInfo.expIdx =1024?*/
	nextexp = expidx = (SINT32)aeResult.evInfo.expIdx;
	nextagc = agcidx = (SINT32)aeResult.evInfo.agcIdx;
	nextape = apeidx = (SINT32)aeResult.evInfo.aperIdx;
	aeCbA.expidx = expidx;
	aeCbA.agcidx = agcidx;
    aeCbA.avidx  = apeidx;
	/*-- LV measurement
	 * LV = BV + 5 = AV+TV-SV + 5 (APEX) + aeStep
	 */
	aeCbA.lvidx = (SINT16) (apeidx
				+ pv_expidx_to_tvidx((SINT32)expidx)
				- pv_agcidx_to_svidx((SINT32)agcidx)
				+ aeResult.aeStep
				+ 5*evUnit.evUnit
				);
	aeCbA.luma = aeResult.aeLuma;

	if(aeCbA.lvidx < 0) aeCbA.lvidx = 0;

	/*s Modify by Aries 09/07/27*/
	awbAeInfo[0]=(UINT16)aeCbA.lvidx;
	awbAeInfo[1]=(UINT16)aeCbA.luma;
	awbAeInfo[2]=(UINT16)aeCurContrastGet();
	awbCurAeInfoSet(awbAeInfo);
    /*e Modify by Aries 09/07/27*/

	/*-- Ae debug session */
	//printf("lum=%d lv=%d iris=%d,exp=%d agc=%d step=%d(%d)\n",aeResult.aeLuma,aeCbA.lvidx,apeidx,expidx,agcidx,aeResult.aeStep,step);

    aeCbA.aeStep = aeConvErr; //use aestep record conv range to aealg    

	/***************************************************
	 * TOO DARK Adjustment
	 ***************************************************/	 
	if (step < (0-aeConvErr))
	{
		//printf("--- DARK (%d)\n",step);
        converge_state = AE_TOO_BRIGHT;
                
#if AE_FLICK_EN 
        appAeFlickAdjustA(AE_TOO_BRIGHT|AE_FLICK_STEP0);
#endif

		if((-step) > AE_CONVERGE_SPEED){
			step = step/AE_CONVERGE_SPEED;
		}
		else{
			step = -1;
		}        
		_aeTooDarkAdjust();
       
	}
	/***************************************************
	 * TOO BRIGHT Adjustment
	 ***************************************************/
	else if (step > aeConvErr)
	{
		//printf("--- BRIGHT (%d)\n",step);
        converge_state = AE_TOO_DARK;

#if AE_FLICK_EN 
        appAeFlickAdjustA(AE_TOO_DARK|AE_FLICK_STEP0);
#endif

		if(step > AE_CONVERGE_SPEED){
            step = step/AE_CONVERGE_SPEED;						
		}
		else{
			step = 1;
		}
		_aeTooBrightAdjust();

	}
	/***************************************************
	 * Converged
	 ***************************************************/
	else
	{
        //printf("--- Converged (%d)\n",step);       
		aeCbA.stable = TRUE;     
        
#if AE_FLICK_EN 
        Convcount++;
        //printf("<lester>Convcount %d %d %d \n",dbgTooDarkCntA,dbgTooBrightCntA,Convcount);
        if(Convcount == AE_FLICK_CONVERGE_COUNT)   
            Convcount = rec_dstepA = rec_bstepA = dbgTooBrightCntA = dbgTooDarkCntA= 0;                     
#endif

    	if (aeCbA.aeset.pasm == VIDEO_MODE)
    		aeConvErr = AE_CONVERGE_COARSE_VIDEO;
    	else 
    		aeConvErr = AE_CONVERGE_COARSE_VIEW;

        if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH) && (SensorBneedSend==TRUE))//for reduce sensor ae timming
        {
           //printf("SensorBneedSend = %d, exp=%d agc=%d\n",SensorBneedSend,nextexpB,nextagcB);
           sp5kPreviewDualSelSet(SENSOR_COMB);
	       sp5kPreviewExpAgcSet(nextexpB, nextagcB);
        }
        
        app_DIQ_DynIso_Set();
		return SUCCESS;
	}
                      
	/*remain unchanged while next exptime & agcgain are the same as previous*/
	expidx = aeResult.evInfo.expIdx;
	agcidx = aeResult.evInfo.agcIdx;
       
	if (expidx == nextexp)
		nextexp = SP5K_AE_EXP_AGC_DONT_CHANGE;
	else
		aeCbA.expidx = nextexp;        

	if (agcidx == nextagc) 
		nextagc = SP5K_AE_EXP_AGC_DONT_CHANGE;
	else 
		aeCbA.agcidx = nextagc;

#if AE_FLICK_EN
    Convcount = 0;
    if(converge_state==AE_TOO_BRIGHT)
    {
        if(appAeFlickAdjustA(AE_TOO_BRIGHT|AE_FLICK_STEP1)==SUCCESS)
        {
            if (aeCbA.aeset.pasm == VIDEO_MODE)
    	    	aeConvErr = AE_CONVERGE_COARSE_VIDEO;
        	else 
        		aeConvErr = AE_CONVERGE_COARSE_VIEW;

            if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH) && (SensorBneedSend==TRUE))//for reduce sensor ae timming
            {
                //printf("SensorBneedSend A= %d, exp=%d agc=%d\n",SensorBneedSend,nextexpB,nextagcB);
                sp5kPreviewDualSelSet(SENSOR_COMB);
	            sp5kPreviewExpAgcSet(nextexpB, nextagcB);
            }
            app_DIQ_DynIso_Set();
        	return SUCCESS;
        }
    }
    else if(converge_state==AE_TOO_DARK)
    {
        if(appAeFlickAdjustA(AE_TOO_DARK|AE_FLICK_STEP1)==SUCCESS)
        {
            if (aeCbA.aeset.pasm == VIDEO_MODE)
    	    	aeConvErr = AE_CONVERGE_COARSE_VIDEO;
        	else 
        		aeConvErr = AE_CONVERGE_COARSE_VIEW;

            if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH) && (SensorBneedSend==TRUE))//for reduce sensor ae timming
            {
                //printf("SensorBneedSend B= %d, exp=%d agc=%d\n",SensorBneedSend,nextexpB,nextagcB);
                sp5kPreviewDualSelSet(SENSOR_COMB);
	            sp5kPreviewExpAgcSet(nextexpB, nextagcB);
            }
            app_DIQ_DynIso_Set();
        	return SUCCESS;
        }
    }
#endif 

    //profLogPrintf(2, "<lester> exp:%d agc:%d", nextexp, nextagc);      
    //printf("<lester> exp:%d agc:%d", nextexp, nextagc);  
    
    sp5kPreviewDualSelSet(SENSOR_COMA);    
	sp5kPreviewExpAgcSet(nextexp, nextagc);

    if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH) && (SensorBneedSend==TRUE))//for reduce sensor ae timming
    {
        //printf("SensorBneedSend C = %d, exp=%d agc=%d\n",SensorBneedSend,nextexpB,nextagcB);
        sp5kPreviewDualSelSet(SENSOR_COMB);
	    sp5kPreviewExpAgcSet(nextexpB, nextagcB);
    }
    
    app_DIQ_DynIso_Set();
        
	return SUCCESS;
}

UINT32
appAePreviewAdjustB(
	UINT32 param
)
{
	aeResult_t aeResult;    
	SINT32 ret;
	static SINT32 lastExp=0xffffffff;
	static UINT32 lastAgc=0xffffffff;
	static SINT8 lastStep=0xff;
    UINT8 converge_state;
    SensorBneedSend = FALSE;
	ret = appAEALGLib_ResultGet(SENSOR_COMB,&aeResult);

	if (ret != SUCCESS ||	!(aeResult.valid & AAA_INFO_RESULT_AE_VALID)) 
	{
		printf("ae result invalid(%d)\n",ret);
        //profLogPrintf(2, "frm:%d", param);
        SensorBneedSend = FALSE;
		return FAIL;
	}

	if (fAeEnable==0 || fAeLock==1)
	{
		//printf("AE Locked B %d exp=%d %d agc=%d !!!\n",fAeEnable, (SINT32)aeResult.evInfo.exp2Idx,(SINT32)aeResult.evInfo.expIdx, (SINT32)aeResult.evInfo.agc2Idx);
		return SUCCESS;
	}
    
	aeCbB.frameid = param;
	aeCbB.aeStep = stepB = (SINT32)aeResult.aeStep;	
	nextexpB = expidxB = (SINT32)aeResult.evInfo.exp2Idx;
	nextagcB = agcidxB = (SINT32)aeResult.evInfo.agc2Idx;
	nextapeB = apeidxB = (SINT32)aeResult.evInfo.aper2Idx;
	aeCbB.expidx = expidxB;
	aeCbB.agcidx = agcidxB;
    aeCbB.avidx  = apeidxB;
    
	/*-- LV measurement
	 * LV = BV + 5 = AV+TV-SV + 5 (APEX) + aeStep
	 */
	aeCbB.lvidx = (SINT16) (apeidxB
				+ pv_expidx_to_tvidx((SINT32)expidxB)
				- pv_agcidx_to_svidx((SINT32)agcidxB)
				+ aeResult.aeStep
				+ 5*evUnit.evUnit
				);
	aeCbB.luma = aeResult.aeLuma;

	if(aeCbB.lvidx < 0) aeCbB.lvidx = 0;

	/*-- Ae debug session */
   //printf("lum=%d lv=%d iris=%d,exp=%d agc=%d stepB=%d(%d)\n",aeResult.aeLuma,aeCbB.lvidx,apeidxB,expidxB,agcidxB,aeResult.aeStep,stepB);
    
    aeCbB.aeStep = aeConvErr; //use aestep record conv range to aealg    

	/***************************************************
	 * TOO DARK Adjustment
	 ***************************************************/	 
	if (stepB < (0-aeConvErr))
	{
		//printf("--- DARK B(%d)\n",stepB);
        converge_state = AE_TOO_BRIGHT;
                
#if AE_FLICK_EN 
        appAeFlickAdjustB(AE_TOO_BRIGHT|AE_FLICK_STEP0);
#endif

		if((-stepB) > AE_CONVERGE_SPEED){
			stepB = stepB/AE_CONVERGE_SPEED;
		}
		else{
			stepB = -1;
		}        
		_aeTooDarkAdjustB();
       
	}
	/***************************************************
	 * TOO BRIGHT Adjustment
	 ***************************************************/
	else if (stepB > aeConvErr)
	{
		//printf("--- BRIGHT B(%d)\n",stepB);
        converge_state = AE_TOO_DARK;

#if AE_FLICK_EN 
        appAeFlickAdjustB(AE_TOO_DARK|AE_FLICK_STEP0);
#endif

		if(stepB > AE_CONVERGE_SPEED){
            stepB = stepB/AE_CONVERGE_SPEED;                        
		}
		else{
			stepB = 1;
		}
		_aeTooBrightAdjustB();

	}
	/***************************************************
	 * Converged
	 ***************************************************/
	else
	{
        //printf("--- Converged B(%d)\n",stepB);       
		aeCbB.stable = TRUE;     
        
#if AE_FLICK_EN 
        ConvcountB++;
        //printf("<lester>ConvcountB %d %d %d \n",dbgTooDarkCntB,dbgTooBrightCntB,ConvcountB);
        if(ConvcountB == AE_FLICK_CONVERGE_COUNT)   
            ConvcountB = rec_dstepB = rec_bstepB = dbgTooBrightCntB = dbgTooDarkCntB= 0;                     
#endif

        aeCbB.aeset.pasm = aeCbA.aeset.pasm;
		SensorBneedSend = FALSE;
		return SUCCESS;
	}
                      
	/*remain unchanged while next exptime & agcgain are the same as previous*/
	expidxB = aeResult.evInfo.expIdx;
	agcidxB = aeResult.evInfo.agcIdx;
       
	if (expidxB == nextexpB)
		nextexpB = SP5K_AE_EXP_AGC_DONT_CHANGE;
	else
		aeCbB.expidx = nextexpB;        

	if (agcidxB == nextagcB) 
		nextagcB = SP5K_AE_EXP_AGC_DONT_CHANGE;
	else 	
		aeCbB.agcidx = nextagcB;

#if AE_FLICK_EN
    ConvcountB = 0;
    if(converge_state==AE_TOO_BRIGHT)
    {
        if(appAeFlickAdjustB(AE_TOO_BRIGHT|AE_FLICK_STEP1)==SUCCESS)
        {
            aeCbB.aeset.pasm = aeCbA.aeset.pasm;    
            SensorBneedSend = FALSE;
        	return SUCCESS;
        }
    }
    else if(converge_state==AE_TOO_DARK)
    {
        if(appAeFlickAdjustB(AE_TOO_DARK|AE_FLICK_STEP1)==SUCCESS)
        {
            aeCbB.aeset.pasm = aeCbA.aeset.pasm;   
            SensorBneedSend = FALSE;
        	return SUCCESS;
        }
    }
#endif 

    //profLogPrintf(2, "<lester> expB:%d agcB:%d", nextexpB, nextagcB);      
    //printf("<lester> exp:%d agc:%d", nextexpB, nextagcB);  
    SensorBneedSend = TRUE;
        
	return SUCCESS;
}


/* ae with agc fixed */
UINT32 appAePreviewExpAdjust(UINT32 param, SINT32 *pstep)
{  
	return SUCCESS;
}

void appAeEnable(BOOL fEnable)
{
	fAeEnable = fEnable;
}

void appAeInfoEnable(BOOL fEnable)
{
	
}

/*-------------------------------------------------------------------------
 *  Function Name : _capture_PAmode_APEX_calc
 *------------------------------------------------------------------------*/
static void _capture_PAmode_APEX_calc(
	UINT8 iris,UINT8 iso,
	SINT32 *pbv, SINT32 *psv, SINT32 *pav, SINT32 *ptv,
	UINT8 sensel
)
{
	SINT32 tv;

    if(sensel==SENSOR_COMA)
	    *pbv = appPreviewAeBvIdxGet();
    else
        *pbv = appPreviewAeBvIdxGetB();
    
	*pav = (SINT32)aeIris[iris];
	*psv = (SINT32)aeIso[iso];
	tv = *pbv + *psv - *pav;
	#ifdef DO_ISO_XSHIFT
    tv += (CAP_ISO_XSHIFT);    
	#endif
	#ifdef DO_CAP_SAT_GAIN_COMPENSATION
	tv += cap_svidx_to_expidx_offset(*psv);
	#endif
	*ptv = tv;
}

/*-------------------------------------------------------------------------
 *  Function Name : _capture_para_set
 *------------------------------------------------------------------------*/
static void _capture_para_set (
	UINT8 iris, UINT8 iso, SINT32 sv, SINT32 av, SINT32 tv,  UINT8 sensel
)
{
	printf_t("@@@@@@@@@@@@@@\n");
	printf_t("_capture_para_set\n");
    
    if(sensel==SENSOR_COMA)
    {
    	aePara.cap_tv = tv;
	    aePara.cap_sv = sv;
	    aePara.cap_av = av;
       	aePara.ui_iris = iris;
    	aePara.ui_iso = iso;
       	//printf("iris=%d iso=%d\n", aePara.ui_iris, aePara.ui_iso);
    	printf_t("A tv = %d sv = %d av = %d >\n\n",aePara.cap_tv,aePara.cap_sv,aePara.cap_av);
    }
    else
    {
        SenB_capexp = tv;
        SenB_capagc = sv;
        SenB_capav  = av;
        printf_t("B tv = %d sv = %d av = %d >\n\n",SenB_capexp,SenB_capagc,SenB_capav);
    }   
}

/*-------------------------------------------------------------------------
 *  Function Name : _capturePAmodeIrisCalc
 *------------------------------------------------------------------------*/
static void _capturePAmodeIrisCalc(UINT8 iris,UINT8 iso,UINT8 sensel)
{
	SINT32 tv,bv,av,sv;
	printf_t("<cA %d iris = %d iso = %d\n",aeCalcCnt,iris,iso);
	aeCalcCnt++;

	_capture_PAmode_APEX_calc(iris, iso, &bv, &sv, &av, &tv, sensel);
    
	printf_t("bv=%d av=%d sv=%d ssh=%d tv=%d >= I%d\n",bv,av,sv,aesafeshut[aeCbA.zml],tv,IRIS_SWITCH);

	if (tv >= aesafeshut[aeCbA.zml]&& tv >= IRIS_SWITCH && iris < IRIS_STEP-1) 
	{
		iris ++;
		_capturePAmodeIrisCalc(iris,iso,sensel);
	}
	else 
	{
		_capture_para_set(iris, iso, sv, av, tv, sensel);
	}
}
/*-------------------------------------------------------------------------
 *  Function Name : _capturePAmodeParaCalc
 *------------------------------------------------------------------------*/
static void _capturePAmodeParaCalc(UINT8 iris,UINT8 iso,UINT8 sensel)
{
	SINT32 av,tv,sv,bv;
	SINT32 maxIsoStop;
      
	printf_t("<cB %d iris = %d iso = %d sensel =%d *****\n",aeCalcCnt,iris,iso,sensel);
	aeCalcCnt++;

    _capture_PAmode_APEX_calc(iris, iso, &bv, &sv, &av, &tv, sensel);
        
	printf_t("bv=%d av=%d sv=%d tv=%d >= ssh=%d, I%d \n",bv,av,sv,tv,aesafeshut[aeCbA.zml], IRIS_SWITCH);

	#if SP5K_SENSOR_AR0130 
	maxIsoStop = aeCbA.aeset.stabilizer? (UI_ISO_MAX-2): (aeCbA.aeset.iso == AE_ISO_AUTO)? UI_ISO_400-UI_ISO_50: aeCbA.cap_max_isoidx;
	#else 
	maxIsoStop = aeCbA.aeset.stabilizer? (UI_ISO_MAX-2): (aeCbA.aeset.iso == AE_ISO_AUTO)? UI_ISO_800-UI_ISO_50: aeCbA.cap_max_isoidx;
	#endif	

	if (aeCbA.aeset.flash < UI_FLASH_OFF) 
	{
		maxIsoStop = (maxIsoStop>FLASH_AE_ISO_MAX) ? FLASH_AE_ISO_MAX : maxIsoStop;
		printf_t("<lester> aeCbA.aeset.flash < UI_FLASH_OFF = %d %d",aeCbA.aeset.flash,maxIsoStop);
	}

	printf_t("ParaCalc A\n");

	if (tv >= aesafeshut[aeCbA.zml] &&
		tv >= IRIS_SWITCH &&
		aeIso[iso] <= STD_ISO_50 &&
		iris < IRIS_STEP-1)
	{	/*-- change to small IRIS */
		printf_t("ParaCalc B\n");
		iris ++;
		_capturePAmodeParaCalc(iris,iso,sensel);
	}
	else if (tv < aesafeshut[aeCbA.zml] && iso < maxIsoStop)
	{
		printf_t("ParaCalc C\n");

	 	iso ++;
	 	_capturePAmodeParaCalc(iris,iso,sensel);
	}
	else
	{	
        SINT32 aeShutDiff = 0;
		if(pAeCapFlikrShut != NULL){
			UINT32 i,aeCapFlickerIdx = 0;
			
            if(tv <= 0)
                tv=2;
            
			printf("\033[32m Before aeCapFlickerIdx :TV(%u),SV(%u)\033[0m\n",tv,sv);
            if(tv < pAeCapFlikrShut[aeCapFlickerIdx])
			{/*TV is longer than shortest flicker time*/
				for(i = 0 ; i < AE_CAP_FLICKER_SHUT_NUM ; i++)
				{
					if(tv >= pAeCapFlikrShut[i])
					{
						if(iso < maxIsoStop && tv != pAeCapFlikrShut[i])
						{
							aeCapFlickerIdx = i -1;
						}
						else
						{
							aeCapFlickerIdx = i;
						}
						break;
					} 
				}
				aeShutDiff = tv - pAeCapFlikrShut[aeCapFlickerIdx];
				sv = sv - aeShutDiff;
				tv = pAeCapFlikrShut[aeCapFlickerIdx];
				iso = svidx_to_aeIso_tblidx(sv);
			}
			else if(tv - pAeCapFlikrShut[aeCapFlickerIdx] < aeIso[iso] - aeIso[0])
			{/*TV is shorter than shortest flicker time , but ISO is not the Lowest ISO*/
				aeShutDiff = tv - pAeCapFlikrShut[aeCapFlickerIdx];
				sv = sv - aeShutDiff;
				tv = pAeCapFlikrShut[aeCapFlickerIdx];
				iso = svidx_to_aeIso_tblidx(sv);
			}
			printf("\033[32m aeCapFlickerIdx = %d,TV(%u),SV(%u)\033[0m\n",aeCapFlickerIdx,tv,sv);
		}

         
        if(tv<pAeCapFlikrShut[AE_CAP_FLICKER_SHUT_NUM-3])
        {             
		   aeShutDiff = tv - pAeCapFlikrShut[AE_CAP_FLICKER_SHUT_NUM-3];
           tv = pAeCapFlikrShut[AE_CAP_FLICKER_SHUT_NUM-3]; 
		   sv = sv - aeShutDiff;			
 	       iso = svidx_to_aeIso_tblidx(sv);
           printf("\033[32m aelongexp TV(%u),SV(%u)\033[0m\n",tv,sv);
        }            

		printf_t("ParaCalc D\n");
        
#if 0
        if(sensel==SENSOR_COMA)
        {
            tv = aeCbA.expidx;
            av = aeCbA.avidx;
            sv = aeCbA.agcidx;
        }
        else
        {
            tv = aeCbB.expidx;
            av = aeCbB.avidx;
            sv = aeCbB.agcidx;
        }
        _capture_para_set(iris, iso, sv, av, tv, sensel);
#else
		_capture_para_set(iris, iso, sv, av, tv, sensel);
#endif
	}
}

/*-------------------------------------------------------------------------
 *  Function Name : _captureParaCalc
 *------------------------------------------------------------------------*/
static void _captureParaCalc(UINT8 iris,UINT8 iso,UINT8 shut)
{
	SINT32 tv,bv,sv,av;
    UINT8 dotime = SENSOR_COMA;
    UINT8 sen = SENSOR_COMA;
	printf_t("@@@@@@@@@@@@@@\n");
	printf_t("_captureParaCalc\n");
	printf_t("cap_calc: %d %d %d \n",iris,iso,shut);
    
    if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH))
    {        
        dotime = SENSOR_COMB;
        //printf("<lester>2  sen=%d dotime=%d\n",sen,dotime);
    }
    
	if(shut == AE_SHUTTER_AUTO)
	{
		/********************************************
		 * P & A Mode
		 ********************************************/       
		if(iris == AE_IRIS_AUTO && iso == AE_ISO_AUTO)
		{
			/*-- P-Mode, AUTO ISO */
            for(sen=SENSOR_COMA; sen<=dotime; sen++)
            {                                
    			_capturePAmodeParaCalc(iris,iso,sen);
                aeCalcCnt=0;
            }
		}
		else if(iris == AE_IRIS_AUTO)
		{
			/*-- P-Mode, USER ISO */
			iso-=1;
            
            for(sen=SENSOR_COMA; sen<=dotime; sen++)
            {                 
    			_capturePAmodeIrisCalc(iris,iso,sen);
                aeCalcCnt=0;
            }
		}
	}

	/********************************************
	 * Chcek limiation
	 ********************************************/
	if (is_cap_exceed_shortest_shutter(aePara.cap_tv)) 
	{
		printf("SH H: %d\n", aePara.cap_tv);
		cap_set_shortest_shutter(&aePara.cap_tv);
	}

	if (is_cap_exceed_longest_shutter(aePara.cap_tv)) 
	{
		printf("SH L: %d\n", aePara.cap_tv);
		cap_set_longest_shutter(&aePara.cap_tv);
	}
        
    if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH))
    {
    	if (is_cap_exceed_shortest_shutter(SenB_capexp)) 
    	{
    		printf("SH HB: %d\n", SenB_capexp);
    		cap_set_shortest_shutter(&SenB_capexp);
    	}

    	if (is_cap_exceed_longest_shutter(SenB_capexp)) 
    	{
    		printf("SH LB: %d\n", SenB_capexp);
    		cap_set_longest_shutter(&SenB_capexp);
    	}
    }

    #define AEB_AE_DIFF_INDEX 16
    if(aeCbA.aeset.aeb)/*AEB*/
    {      
     	printf("AEB AE CAL\n");
        
    	tv = aePara.cap_tv + AEB_AE_DIFF_INDEX;
    	sv = aePara.cap_sv;

    	if (is_cap_exceed_shortest_shutter(tv)) 
    	{
    		sv -= (tv - capShortestShutter);
    		tv = capShortestShutter;

    		if (sv < aeIso[0]) 
    		{
    			sv = aeIso[0]; /* system limitation !! */
    		}
    	}
    	aeCbA.capaebagc[0] = sv;
    	aeCbA.capaebexp[0] = tv;

    	/*-- Zero EV bias of AEB*/
    	aeCbA.capaebexp[1] = aePara.cap_tv;
    	aeCbA.capaebagc[1] = aePara.cap_sv;

    	/*-- Positive EV bias of AEB, HDR */
    	tv = aePara.cap_tv - AEB_AE_DIFF_INDEX;
    	sv = aePara.cap_sv;
    	if(is_cap_exceed_longest_shutter(tv)) 
    	{
    		sv += (capLongestShutter - tv);
    		tv = capLongestShutter;

    		if (sv > aeIso[ISO_NUM-2]) 
    		{
    			sv = aeIso[ISO_NUM-2]; /* sys limitation !! */
    		}
    	}
    	aeCbA.capaebagc[2] = sv;
    	aeCbA.capaebexp[2] = tv;
    	
    	printf("\033[32m [AEB] aeCb.capaebexp[0] = %d ,aeCb.capaebagc[0] = %d \033[0m\n",aeCbA.capaebexp[0],aeCbA.capaebagc[0]);
    	printf("\033[32m [AEB] aeCb.capaebexp[1] = %d ,aeCb.capaebagc[1] = %d \033[0m\n",aeCbA.capaebexp[1],aeCbA.capaebagc[1]);
    	printf("\033[32m [AEB] aeCb.capaebexp[2] = %d ,aeCb.capaebagc[2] = %d \033[0m\n",aeCbA.capaebexp[2],aeCbA.capaebagc[2]);						

        if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH))
        {
    		tv = SenB_capexp + AEB_AE_DIFF_INDEX;
    		sv = SenB_capagc;

    		if (is_cap_exceed_shortest_shutter(tv)) 
    		{
    			sv -= (tv - capShortestShutter);
    			tv = capShortestShutter;

    			if (sv < aeIso[0]) 
    			{
    				sv = aeIso[0]; /* system limitation !! */
    			}
    		}
    		aeCbB.capaebagc[0] = sv;
    		aeCbB.capaebexp[0] = tv;

    		/*-- Zero EV bias of AEB, HDR */
    		aeCbB.capaebexp[1] = SenB_capexp;
    		aeCbB.capaebagc[1] = SenB_capexp;

    		/*-- Positive EV bias of AEB*/
    		tv = SenB_capexp - AEB_AE_DIFF_INDEX;
    		sv = SenB_capexp;
    		if(is_cap_exceed_longest_shutter(tv)) 
    		{
    			sv += (capLongestShutter - tv);
    			tv = capLongestShutter;

    			if (sv > aeIso[ISO_NUM-2]) 
    			{
    				sv = aeIso[ISO_NUM-2]; /* sys limitation !! */
    			}
    		}
    		aeCbB.capaebagc[2] = sv;
    		aeCbB.capaebexp[2] = tv;

        	printf("\033[32m [AEB]B aeCb.capaebexp[0] = %d ,aeCb.capaebagc[0] = %d \033[0m\n",aeCbB.capaebexp[0],aeCbB.capaebagc[0]);
    		printf("\033[32m [AEB]B aeCb.capaebexp[1] = %d ,aeCb.capaebagc[1] = %d \033[0m\n",aeCbB.capaebexp[1],aeCbB.capaebagc[1]);
        	printf("\033[32m [AEB]B aeCb.capaebexp[2] = %d ,aeCb.capaebagc[2] = %d \033[0m\n",aeCbB.capaebexp[2],aeCbB.capaebagc[2]);						
        }
    }
}
/*-------------------------------------------------------------------------
 *  Function Name : _capturePASMSet
 *------------------------------------------------------------------------*/
static void _capturePASMSet(void)
{
	switch (aeCbA.aeset.pasm)
	{
    	case PASM_PROGRAM:
    	case VIDEO_MODE:
		if(aeCbA.aeset.iso == UI_ISO_AUTO)
		{
			_captureParaCalc(AE_IRIS_AUTO, AE_ISO_AUTO, AE_SHUTTER_AUTO);
		}
		else
		{
			_captureParaCalc(AE_IRIS_AUTO, aeCbA.aeset.iso, AE_SHUTTER_AUTO);
		}
		break;
    }
}

static void _dual_pvdeubg(void)
{
    sp5kPreviewDualSelSet(SENSOR_COMA);    
  	sp5kPreviewExpAgcGet(&expidx, (UINT32)&agcidx);
    printf("_aeFastViewSet:get A expidx(%d), agcidx(%d) \n", expidx, agcidx);

    if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH))
    {
        sp5kPreviewDualSelSet(SENSOR_COMB);    
      	sp5kPreviewExpAgcGet(&expidx, (UINT32)&agcidx);
        printf("_aeFastViewSet:get B expidx(%d), agcidx(%d) \n", expidx, agcidx);
    }
}

/*-------------------------------------------------------------------------
 * Function : appAeFastAdjust
 *------------------------------------------------------------------------*/
static void _aeFastViewSet(void)
{
	SINT32 expidx, agcidx;
    SINT32 expidxB, agcidxB;

    //_dual_pvdeubg();
    
	expidx = (SINT32)aeCbA.expidx;
	agcidx = (SINT32)aeCbA.agcidx;
	
	aePara.tv = pv_expidx_to_tvidx(expidx);
	aePara.sv = pv_agcidx_to_svidx(agcidx);
        
    if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH))
    {
        expidxB = (SINT32)aeCbB.expidx;
        agcidxB = (SINT32)aeCbB.agcidx;
        //printf("_aeFastViewSetB: expidx(%d), agcidx(%d) \n", expidxB, agcidxB);
        sp5kPreviewDualSelSet(SENSOR_COMB);
    	sp5kPreviewExpAgcSet(expidxB, (UINT32)agcidxB);        
    }
    
    sp5kPreviewDualSelSet(SENSOR_COMA);    
  	sp5kPreviewExpAgcSet(expidx, (UINT32)agcidx);
    //printf("_aeFastViewSet: expidx(%d), agcidx(%d) \n", expidx, agcidx);        

}


/*-------------------------------------------------------------------------
 *  Function Name : _capture_DistExpRecommandCalc
 *------------------------------------------------------------------------*/
static SINT32 _capture_DistExpRecommandCalc (void)
{
    return 0;
}


/*-------------------------------------------------------------------------
 *  Function Name : appAeCaptureSet
 *------------------------------------------------------------------------*/
void appAeCaptureSet(UINT8 imgId)
{

	UINT8 dist;
	UINT32 pvexpIdxA,pvagcIdxA;
    UINT32 pvexpIdxB,pvagcIdxB;
    
	extern UINT8 IsHDR;
	appAeDistStatusGet(&dist);
    
	#ifdef HW_DIST
	SINT32 RecomStep=0;
	if (dist ==TRUE)
	{
		RecomStep=_capture_DistExpRecommandCalc();
	}
	#endif    
    
	if(aeCbA.aeset.aeb && imgId < 3)
	{
		printf("\n\033[32m*** AEB %d ***\033[0m\n",imgId);

		aePara.cap_tv = aeCbA.capaebexp[imgId];
		aePara.cap_sv = aeCbA.capaebagc[imgId];
		aeCbA.capexp = cap_tvidx_to_expidx(aePara.cap_tv);
		aeCbA.capagc = cap_svidx_to_agcidx(aePara.cap_sv);

        if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH))
        {
            SenB_capexp = aeCbB.capaebexp[imgId];
    		SenB_capagc = aeCbB.capaebagc[imgId];
	    	aeCbB.capexp = cap_tvidx_to_expidx(SenB_capexp);
		    aeCbB.capagc = cap_svidx_to_agcidx(SenB_capagc);
        }
        
		if(imgId == 0)
		{            
			aeCbA.capav = aePara.cap_av;
            
            if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH))
                aeCbB.capav = SenB_capav;
            
			#if LENS_MOTOR_DRV_MD3_IN4
			APP_SLEEP_MS(40);
			#endif
		}
	}
    else
    {
    	aeCbA.capexp = cap_tvidx_to_expidx(aePara.cap_tv);
    	aeCbA.capagc = cap_svidx_to_agcidx(aePara.cap_sv);
    	aeCbA.capav = aePara.cap_av;

        if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH))
        {
            aeCbB.capexp = cap_tvidx_to_expidx(SenB_capexp);
            aeCbB.capagc = cap_svidx_to_agcidx(SenB_capagc);
            aeCbB.capav  = SenB_capav;
        }   
    }
    
	appAeIrisSet(aePara.ui_iris);

	#if LENS_MOTOR_DRV_MD3_IN4
	APP_SLEEP_MS(40);
	#endif

    //_dual_pvdeubg();
    
	appLensMShutLmiModeSet(1); /* msh off */
	
    sioCtrl(0);
    
    #if 0
	printf_t("******************************************\n");
	printf_t("aePara: tvidx(%d), svidx(%d) avidx(%d)\n", aePara.cap_tv, aePara.cap_sv, aePara.cap_av);
	printf_t("capset : ape = %d exp = %d agc = %d\n",aeCbA.capav,aeCbA.capexp,aeCbA.capagc);
	printf_t("evdiff = %d\n",aeCbA.evdiff);
	printf_t("******************************************\n");
    #endif
    
    printf("\033[32mcapset A: ape = %d exp = %d agc = %d step = %d \033[0m\n",aeCbA.capav,aeCbA.capexp,aeCbA.capagc, step);
    sp5kStillCapDualSelSet(SENSOR_COMA);    
    sp5kStillCapExpAgcSet((SINT32)aeCbA.capexp, (UINT32)aeCbA.capagc);    

    if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH))
    {     
        sp5kStillCapDualSelSet(SENSOR_COMB);
        sp5kStillCapExpAgcSet((SINT32)aeCbB.capexp, (UINT32)aeCbB.capagc);
        printf("\033[32mcapset B: ape = %d exp = %d agc = %d step = %d \033[0m\n",aeCbB.capav,aeCbB.capexp,aeCbB.capagc,stepB);
    }  
    #if 0
    else
    {
        sp5kStillCapDualSelSet(SENSOR_COMB);    
        sp5kStillCapExpAgcSet((SINT32)aeCbA.capexp, (UINT32)aeCbA.capagc);   
    }
    #endif

}

/*-------------------------------------------------------------------------
 * Function : appAeCaptureFlashAeOverrideSet
 *------------------------------------------------------------------------*/
void appAeCaptureFlashAeOverrideSet(void)
{
}

/*-------------------------------------------------------------------------
 * Function : appAeFastAdjust
 *------------------------------------------------------------------------*/
UINT8
appAeFastAdjust(
	UINT32 param
)
{
	static UINT8 fastAeCnt = 0;
	UINT8 ret;
	UINT32 currMode;

    sioCtrl(0);         
	if(appAeStableGet()== TRUE)
	{
		aeCbA.mode = aeCbB.mode = 0;
	}
	else
	{
		aeCbA.mode = aeCbB.mode = 1;

        if(SENSORSEL_CHECK(appAeDualModeGet(),SENSOR_BOTH))
            appAePreviewAdjustB(param);
        
		appAePreviewAdjust(param);
	}

	fastAeCnt++;
    
	sp5kModeGet(&currMode);
	if(currMode == SP5K_MODE_VIDEO_PREVIEW){
        if(pUiSetting->usbMode < USB_UVCH264) //for pccam capture 
    	     	return 0xff;             
	}

	if(aeCbA.mode == 1 && aeCbB.mode == 1 && fastAeCnt <= FAST_AE_DO_NUM) 
	{
        //_dual_pvdeubg();
        
        fAeLock = 0;
		return 0xff;
	}

	/*-- Preview AE has converged or
 	 * fastAeCnt max effort completes !!
	 */    
	if(fAeEnable)
	{        
        fAeLock = 1;         
		aeCbA.mode = aeCbB.mode = fastAeCnt = 0;
         
		/********************************************
		 * Capture PASM Adjustment
		 ********************************************/
		_capturePASMSet();
                        
		/********************************************
		 * Fast PASM View Mimic
		 ********************************************/		
		_aeFastViewSet();               
	}

	/**********************************************************
	 * Check up safeshut to decide if Flash compensation needed
	 **********************************************************/	
	ret = aePara.cap_flash = aeCbA.aeset.flash = FALSE;
        
	return ret;
}

//lester 20120612 s
#ifdef FLASH_ROLLING
/* Eric 110823 determine need flash or not in AE */
/*-------------------------------------------------------------------------
 * Function : appAeFlashNeedGet
 *------------------------------------------------------------------------*/
UINT8 appAeFlashNeedGet(void){
	return aePara.cap_flash;
}
#endif
//lester 20120612 e

/*-------------------------------------------------------------------------
 * Function : appAeGetCurrentExpIsoUiIdx
 *------------------------------------------------------------------------*/
void appAeGetCurrentExpIsoUiIdx(UINT16* ui_exp_idx, UINT16* ui_iso_idx)
{
	SINT32 exp;
	UINT32 agc;
    sp5kStillCapDualSelSet(SENSOR_COMA);
	sp5kStillCapExpAgcGet(&exp, &agc);

	printf("%d %d evUnit.evUnit(%d) \n", exp, agc, evUnit.evUnit);

	*ui_exp_idx = (UINT16)cap_tvidx_to_ui_shutter_idx(cap_expidx_to_tvidx(exp));
	*ui_iso_idx = (UINT16)svidx_to_aeIso_tblidx(cap_agcidx_to_svidx(agc)) /*+ UI_ISO_50*/;// just start from different element.
}

/*-------------------------------------------------------------------------
 * Function : appAeFlashAdjust
 *------------------------------------------------------------------------*/
void
appAeFlashAdjust(
	aeResult_t* pAePar,
	SINT32* ae_suggest_exp,
	UINT32* ae_suggest_iso,
	UINT32 sh_long,
	UINT32 sh_short
)
{
	*ae_suggest_exp = aePara.cap_tv;
	*ae_suggest_iso = aePara.cap_sv;
}
/*-------------------------------------------------------------------------
 *  Function Name : aeExif_DbgLogInit
 *------------------------------------------------------------------------*/
void aeExif_DbgLogInit(void)
{
	appExif_MN_BufClear(EXIF_MN_AE);
}

/*-------------------------------------------------------------------------
 *  Function Name : aeExif_DbgLogSave
 *------------------------------------------------------------------------*/
void aeExif_DbgLogSave(void)
{
	appAeCb_t *paeCb;
	appCalibData_t *pcalib;
	appAePara_t *paePara;

	SINT32 expIdx,snapexpIdx;
	UINT32 agcIdx,snapagcIdx;
    
    sp5kPreviewDualSelSet(SENSOR_COMA);
	sp5kPreviewExpAgcGet(&expIdx, &agcIdx);
	//printf("sp5k view (exp=%d, agc=%d)\n", expIdx, agcIdx);
	
    sp5kStillCapDualSelSet(SENSOR_COMA);
	sp5kStillCapExpAgcGet(&snapexpIdx, &snapagcIdx);
	//printf("sp5k cap (exp=%d, agc=%d)\n", expIdx, agcIdx);

	paeCb = appAeCbGet();
	paePara = appAeParaGet();
	pcalib = appCalibDataGet();

	appExif_MN_Printf(EXIF_MN_AE, "lv%d ", paeCb->lvidx);
	appExif_MN_Printf(EXIF_MN_AE, "vav%d ", paePara->av);
	appExif_MN_Printf(EXIF_MN_AE, "vtv%d ", paePara->tv);
	appExif_MN_Printf(EXIF_MN_AE, "vsv%d ", paePara->sv);
	appExif_MN_Printf(EXIF_MN_AE, "cav%d ", paePara->cap_av);
	appExif_MN_Printf(EXIF_MN_AE, "ctv %d ", paePara->cap_tv);
	appExif_MN_Printf(EXIF_MN_AE, "csv%d ", paePara->cap_sv);
	appExif_MN_Printf(EXIF_MN_AE, "evdiff%d ", paeCb->evdiff);

	appExif_MN_Printf(EXIF_MN_AE, "xfh%d ", paePara->cap_flash);
	appExif_MN_Printf(EXIF_MN_AE, "xiso%d ", paePara->ui_iso);
	appExif_MN_Printf(EXIF_MN_AE, "xiris%d ", paePara->ui_iris);

	appExif_MN_Printf(EXIF_MN_AE, "vIso%d ", pcalib->PvIso);
	appExif_MN_Printf(EXIF_MN_AE, "cIso%d ", pcalib->CapIso);
	
	appExif_MN_Printf(EXIF_MN_AE, "pvexp=%d  ",expIdx);
	appExif_MN_Printf(EXIF_MN_AE, "pvagc=%d ", agcIdx);
	appExif_MN_Printf(EXIF_MN_AE, "capExp=%d ",snapexpIdx);
	appExif_MN_Printf(EXIF_MN_AE, "capAgc=%d ", snapagcIdx);

}

/*-------------------------------------------------------------------------
 *  Function Name : appAeFaceCfg
 *------------------------------------------------------------------------*/
void appAeFaceCfg(void)
{

}

void cmdAE(UINT32 argc, UINT8 *arg[], UINT32 v[])
{

}

void appAeTablePrint(UINT32 fps,UINT32 flicker)
{
	UINT8 i;
	if(fps == 30){
		switch(flicker)
		{
			case 60:
				printf("30Fps 60Hz Table:\n");
				for(i = 0 ; i < sizeof(ae30Fps60HzExpAgcSet)/sizeof(ae30Fps60HzExpAgcSet[0]); i++ )
				{
					printf("%d\t%d\t%d\n",i,ae30Fps60HzExpAgcSet[i].expidx,ae30Fps60HzExpAgcSet[i].agcidx);
				}
			break;
			case 50:
				printf("30Fps 50Hz Table:\n");
				for(i = 0 ; i < sizeof(ae30Fps50HzExpAgcSet)/sizeof(ae30Fps50HzExpAgcSet[0]); i++ )
				{
					printf("%d\t%d\t%d\n",i,ae30Fps50HzExpAgcSet[i].expidx,ae30Fps50HzExpAgcSet[i].agcidx);
				}
			break;
			default:
				printf("30Fps 60Hz Table:\n");
				for(i = 0 ; i < sizeof(ae30Fps60HzExpAgcSet)/sizeof(ae30Fps60HzExpAgcSet[0]); i++ )
				{
					printf("%d\t%d\t%d\n",i,ae30Fps60HzExpAgcSet[i].expidx,ae30Fps60HzExpAgcSet[i].agcidx);
				}
				printf("\n\n30Fps 50Hz Table:\n");
				for(i = 0 ; i < sizeof(ae30Fps50HzExpAgcSet)/sizeof(ae30Fps50HzExpAgcSet[0]); i++ )
				{
					printf("%d\t%d\t%d\n",i,ae30Fps50HzExpAgcSet[i].expidx,ae30Fps50HzExpAgcSet[i].agcidx);
				}
			break;
		}
	}
	else if(fps == 60){
		switch(flicker)
		{
			case 60:
				printf("60Fps 60Hz Table:\n");
				for(i = 0 ; i < sizeof(ae60Fps60HzExpAgcSet)/sizeof(ae60Fps60HzExpAgcSet[0]); i++ )
				{
					printf("%d\t%d\t%d\n",i,ae60Fps60HzExpAgcSet[i].expidx,ae60Fps60HzExpAgcSet[i].agcidx);
				}
			break;
			case 50:
				printf("60Fps 50Hz Table:\n");
				for(i = 0 ; i < sizeof(ae60Fps50HzExpAgcSet)/sizeof(ae60Fps50HzExpAgcSet[0]); i++ )
				{
					printf("%d\t%d\t%d\n",i,ae60Fps50HzExpAgcSet[i].expidx,ae60Fps50HzExpAgcSet[i].agcidx);
				}
			break;
			default:
				printf("60Fps 60Hz Table:\n");
				for(i = 0 ; i < sizeof(ae60Fps60HzExpAgcSet)/sizeof(ae60Fps60HzExpAgcSet[0]); i++ )
				{
					printf("%d\t%d\t%d\n",i,ae60Fps60HzExpAgcSet[i].expidx,ae60Fps60HzExpAgcSet[i].agcidx);
				}
				printf("\n\n60Fps 50Hz Table:\n");
				for(i = 0 ; i < sizeof(ae60Fps50HzExpAgcSet)/sizeof(ae60Fps50HzExpAgcSet[0]); i++ )
				{
					printf("%d\t%d\t%d\n",i,ae60Fps50HzExpAgcSet[i].expidx,ae60Fps50HzExpAgcSet[i].agcidx);
				}
			break;
		}
	}
	else if(fps == 120){
		switch(flicker)
		{
			case 60:
				printf("120Fps 60Hz Table:\n");
				for(i = 0 ; i < sizeof(ae120Fps60HzExpAgcSet)/sizeof(ae120Fps60HzExpAgcSet[0]); i++ )
				{
					printf("%d\t%d\t%d\n",i,ae120Fps60HzExpAgcSet[i].expidx,ae120Fps60HzExpAgcSet[i].agcidx);
				}
			break;
			case 50:
				printf("120Fps 50Hz Table:\n");
				for(i = 0 ; i < sizeof(ae120Fps50HzExpAgcSet)/sizeof(ae120Fps50HzExpAgcSet[0]); i++ )
				{
					printf("%d\t%d\t%d\n",i,ae120Fps50HzExpAgcSet[i].expidx,ae120Fps50HzExpAgcSet[i].agcidx);
				}
			break;
			default:
				printf("120Fps 60Hz Table:\n");
				for(i = 0 ; i < sizeof(ae120Fps60HzExpAgcSet)/sizeof(ae120Fps60HzExpAgcSet[0]); i++ )
				{
					printf("%d\t%d\t%d\n",i,ae120Fps60HzExpAgcSet[i].expidx,ae120Fps60HzExpAgcSet[i].agcidx);
				}
				printf("\n\n120Fps 50Hz Table:\n");
				for(i = 0 ; i < sizeof(ae120Fps50HzExpAgcSet)/sizeof(ae120Fps50HzExpAgcSet[0]); i++ )
				{
					printf("%d\t%d\t%d\n",i,ae120Fps50HzExpAgcSet[i].expidx,ae120Fps50HzExpAgcSet[i].agcidx);
				}
			break;
		}
	}

}
void appAeFlickerTableExpAgcIdxGet(UINT32 fps,UINT32 flicker,UINT16 tblIdx,UINT16 *expIdx,UINT16 *agcIdx)
{
	UINT16 idx;
	if(fps == 30){
		switch(flicker)
		{
			case 60:
				if(tblIdx < sizeof(ae30Fps60HzExpAgcSet)/sizeof(ae30Fps60HzExpAgcSet[0]))
				{
					*expIdx = pv_tvidx_to_expidx(ae30Fps60HzExpAgcSet[tblIdx].expidx);
					*agcIdx = pv_svidx_to_agcidx(ae30Fps60HzExpAgcSet[tblIdx].agcidx);
				}
				break;
			case 50:
				if(tblIdx < sizeof(ae30Fps50HzExpAgcSet)/sizeof(ae30Fps50HzExpAgcSet[0]))
				{
					*expIdx = pv_tvidx_to_expidx(ae30Fps50HzExpAgcSet[tblIdx].expidx);
					*agcIdx = pv_svidx_to_agcidx(ae30Fps50HzExpAgcSet[tblIdx].agcidx);
				}
				break;
		}
	}
	else if(fps == 60){
		switch(flicker)
		{
			case 60:
				if(tblIdx < sizeof(ae60Fps60HzExpAgcSet)/sizeof(ae60Fps60HzExpAgcSet[0]))
				{
					*expIdx = pv_tvidx_to_expidx(ae60Fps60HzExpAgcSet[tblIdx].expidx);
					*agcIdx = pv_svidx_to_agcidx(ae60Fps60HzExpAgcSet[tblIdx].agcidx);
				}
				break;
			case 50:
				if(tblIdx < sizeof(ae60Fps50HzExpAgcSet)/sizeof(ae60Fps50HzExpAgcSet[0]))
				{
					*expIdx = pv_tvidx_to_expidx(ae60Fps50HzExpAgcSet[tblIdx].expidx);
					*agcIdx = pv_svidx_to_agcidx(ae60Fps50HzExpAgcSet[tblIdx].agcidx);
				}
				break;
		}
	}
	else if(fps == 120){
		switch(flicker)
		{
			case 60:
				if(tblIdx < sizeof(ae120Fps60HzExpAgcSet)/sizeof(ae120Fps60HzExpAgcSet[0]))
				{
					*expIdx = pv_tvidx_to_expidx(ae120Fps60HzExpAgcSet[tblIdx].expidx);
					*agcIdx = pv_svidx_to_agcidx(ae120Fps60HzExpAgcSet[tblIdx].agcidx);
				}
				break;
			case 50:
				if(tblIdx < sizeof(ae120Fps50HzExpAgcSet)/sizeof(ae120Fps50HzExpAgcSet[0]))
				{
					*expIdx = pv_tvidx_to_expidx(ae120Fps50HzExpAgcSet[tblIdx].expidx);
					*agcIdx = pv_svidx_to_agcidx(ae120Fps50HzExpAgcSet[tblIdx].agcidx);
				}
				break;
		}
	}

}

void appAeFlickerTableExpAgcIdxSet(UINT32 tblIdx)
{
	SINT32 expIdx,agcIdx;
	
	expIdx = pv_tvidx_to_expidx(paeIdx[tblIdx].expidx);
	agcIdx = pv_svidx_to_agcidx(paeIdx[tblIdx].agcidx);

    sp5kPreviewDualSelSet(SENSOR_COMA);        
	sp5kPreviewExpAgcSet(expIdx, agcIdx);
	printf("Table Index: %d , exp: %d , agc: %d\n",tblIdx,expIdx,agcIdx);

}

UINT8 appAeAgc0UnitGet()
{
	return evUnit.agcIdx0Unit;
}

SINT8 appAeExp0UnitGet()
{
	return evUnit.expIdx0Unit;
}

UINT8 appAeExpLightFrequencyGet()
{
	return pUiSetting->lightFrequency;
}

void appAeParaSet(SINT16 iris, SINT32 shutter, SINT16 iso)
{
	aePara.ui_iris = iris;
	aePara.cap_tv = shutter;
	aePara.ui_iso = iso;
}
